import{_ as $e}from"./CbXOsLjH.js";import{N as Ce,r as c,W as De,g as je,H as Ee,G as Me,c as l,b as f,C as o,a as e,t as r,J as d,d as ae,w as k,F as $,B as N,S as F,a3 as O,P as z,Q as L,Y as B,o as a,M as G,A as Pe,V as Re}from"./DtlkFUv2.js";import{_ as H}from"./e2BhSMQC.js";import{b as p}from"./BcraiT0z.js";import{_ as Fe}from"./GzQTdmL6.js";import{u as Oe}from"./qIaXEmvY.js";import{C as J}from"./DAYFLVbi.js";import{M as Se}from"./bnpOryCG.js";import{S as Te}from"./B305LBvm.js";import{W as Q,L as Ae,B as Ve}from"./abdh5Lal.js";import{C as Ne}from"./fDhdjmhs.js";import"./CY06FC8a.js";import"./B6LoSh53.js";import"./B8u25cvq.js";const ze={class:"min-h-screen font-sans text-right relative pb-24"},Le={key:0,class:"flex items-center justify-center min-h-[60vh]"},Be={key:1,class:"max-w-7xl mx-auto px-4 py-12 flex flex-col items-center text-center"},Ie={class:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mb-4"},Ue={class:"text-xl font-bold text-gray-800 mb-2"},qe={class:"text-gray-500 mb-6"},We={key:2,class:"pt-8 px-4 md:px-8 max-w-7xl mx-auto"},Ge={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-24"},He={class:"space-y-6"},Je={class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},Qe={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},Xe={class:"text-gray-800 font-bold text-lg"},Ye={class:"space-y-3"},Ke={class:"flex justify-between items-center"},Ze={class:"text-gray-500 text-sm font-medium"},et={class:"text-gray-800 font-bold font-mono"},tt={class:"flex justify-between items-center"},st={class:"text-gray-500 text-sm font-medium"},ot={class:"font-bold text-gray-800"},rt={class:"flex justify-between items-center"},at={class:"text-gray-500 text-sm font-medium"},lt={class:"text-gray-800 font-bold"},nt={class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},it={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},dt={class:"text-gray-800 font-bold text-lg"},ct={class:"space-y-3"},ut={class:"flex justify-between items-center"},bt={class:"text-gray-500 text-sm font-medium"},ft={class:"text-gray-800 font-bold"},pt={class:"flex justify-between items-center"},ht={class:"text-gray-500 text-sm font-medium"},vt={class:"text-gray-800 font-bold"},mt={class:"flex justify-between items-center"},yt={class:"text-gray-500 text-sm font-medium"},gt={class:"text-gray-800 font-bold font-mono"},xt={class:"flex justify-between items-start"},wt={class:"text-gray-500 text-sm font-medium"},_t={key:0,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},kt={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},$t={class:"text-gray-800 font-bold text-lg"},Ct={class:"text-gray-600 text-sm leading-relaxed text-right break-words whitespace-pre-wrap"},Dt={class:"space-y-6"},jt=["src"],Et={class:"absolute bottom-4 right-4 left-4 flex justify-between items-end"},Mt={class:"bg-black/40 backdrop-blur-md px-3 py-1.5 rounded-lg"},Pt={class:"text-white font-bold text-sm"},Rt={class:"text-white/80 text-xs"},Ft={key:0,class:"bg-white/90 backdrop-blur-md px-3 py-1.5 rounded-lg"},Ot={class:"text-[#A6431F] font-bold text-sm"},St={key:0,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},Tt={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},At={class:"text-gray-800 font-bold text-lg"},Vt={class:"flex items-center justify-between"},Nt={class:"flex items-center gap-3"},zt={class:"w-12 h-12 rounded-full overflow-hidden border-2 border-white shadow-md bg-gray-100"},Lt=["src","alt"],Bt={class:"font-bold text-gray-800 text-sm"},It={key:0,class:"space-y-4"},Ut={class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},qt={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},Wt={class:"text-gray-800 font-bold text-lg"},Gt={class:"space-y-4"},Ht={class:"flex items-start justify-between mb-4"},Jt={class:"flex items-center gap-3"},Qt={class:"w-12 h-12 rounded-full overflow-hidden border border-gray-200 bg-gray-50"},Xt=["src","alt"],Yt={class:"font-bold text-gray-800 text-sm"},Kt={class:"text-xs text-gray-500 mt-1 line-clamp-1"},Zt={class:"text-left"},es={class:"flex items-baseline gap-1 text-primary-600 font-bold text-lg"},ts={class:"text-[#A6431F] font-mono"},ss={key:0,class:"text-xs text-gray-400 mt-1"},os={class:"flex gap-3"},rs=["onClick"],as=["onClick"],ls={key:1,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6 text-center py-12"},ns={class:"text-gray-500 font-medium"},is={key:1,class:"pointer-events-none"},ds={class:"max-w-md mx-auto px-4 pointer-events-auto space-y-3"},cs={key:0,class:"flex gap-4"},us=["disabled"],bs={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},fs={key:1},ps=["disabled"],hs={key:0,class:"w-5 h-5 border-2 border-[#EC2D30]/30 border-t-[#EC2D30] rounded-full animate-spin"},vs={key:1},ms={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},ys={key:1},gs={key:3,class:"flex gap-4"},xs=["disabled"],ws={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},_s={key:1},ks=["disabled"],$s={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},Cs={key:1},Ds=["src"],js={class:"text-center text-gray-800 font-bold text-lg mb-6"},Es={class:"flex justify-center gap-2 mb-8",dir:"ltr"},Ms=["onClick"],Ps={class:"mb-6"},Rs={class:"block text-right text-gray-600 mb-2 text-sm"},Fs=["placeholder"],Os=["disabled"],Ss={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},Ts={class:"text-center text-gray-900 font-bold text-lg mb-2 border-b border-white/10 pb-4"},As={class:"flex flex-col items-center justify-center py-6"},Vs={class:"mb-2"},Ns={class:"text-[#bf4e26] font-bold text-2xl dir-rtl"},zs={class:"space-y-3 mb-6"},Ls=["onClick"],Bs={class:"flex items-center gap-3"},Is={class:"w-5 h-5 rounded-full border border-gray-400 flex items-center justify-center p-0.5"},Us={key:0,class:"w-full h-full bg-[#bf4e26] rounded-full"},qs={class:"font-medium text-gray-800"},Ws=["disabled"],Gs={class:"text-center mb-6 border-b border-gray-200/50 pb-4"},Hs={class:"text-gray-800 font-bold text-xl"},Js={class:"mb-4 text-right"},Qs={class:"block text-gray-700 font-bold mb-2"},Xs=["placeholder"],Ys={class:"mb-4 text-right"},Ks={class:"mb-6 text-right"},Zs=["disabled"],eo={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},to={class:"text-center text-gray-800 font-bold text-lg mb-6"},so={class:"space-y-3 mb-8"},oo=["onClick"],ro={class:"w-5 h-5 rounded-full border border-gray-300 flex items-center justify-center p-0.5"},ao={key:0,class:"w-full h-full bg-red-500 rounded-full"},lo={class:"font-medium text-gray-700 text-right flex-1 mr-4"},no={class:"flex flex-col gap-3"},io=["disabled"],co={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},Eo={__name:"[id]",async setup(uo){let S,X;const m=Ce().params.id,C=c(null),{data:le,pending:ne,error:Y,refresh:h}=([S,X]=De(()=>p(`/orders/rent-details/${m}`,{key:`rental-order-${m}`})),S=await S,X(),S),i=je(()=>{var t;return((t=le.value)==null?void 0:t.data)||null}),ie=(t,s)=>{t&&s&&window.open(`https://www.google.com/maps/search/?api=1&query=${t},${s}`,"_blank")},v=c(null),de=Ee(),ce=Me(),I=Oe(),ue=async()=>{if(!v.value){v.value="renew";try{const{data:t,error:s}=await p(`/orders/renew-rent-machine/${m}`);t.value?h():s.value&&console.error("Renew rent failed",s.value)}catch(t){console.error("Renew rent exception",t)}finally{v.value=null}}},be=async()=>{if(!v.value){v.value="end";try{const{data:t,error:s}=await p("/orders/finish-order",{method:"POST",body:{order_id:m}});t.value&&(t.value.key==="success"||t.value.status===!0)?(I.success(t.value.msg),de.push(ce("/profile/orders/rental"))):s.value&&console.error("End rent failed",s.value)}catch(t){console.error("End rent exception",t)}finally{v.value=null}}},fe=async t=>{try{const{data:s}=await p(`/orders/accept-offer/${t}`);s.value&&(s.value.key==="success"||s.value.status===!0)&&h()}catch(s){console.error("Failed to accept offer",s)}},pe=async t=>{try{const{data:s}=await p(`/orders/refuse-offer/${t}`);s.value&&(s.value.key==="success"||s.value.status===!0)&&h()}catch(s){console.error("Failed to refuse offer",s)}},T=c(!1),x=c(0),D=c(""),j=c(!1),he=async()=>{if(!(x.value===0||j.value)){j.value=!0;try{const{data:t}=await p("/rate",{method:"POST",body:{order_id:m,rate:x.value,comment:D.value}});t.value&&(t.value.key==="success"||t.value.status===!0)&&(T.value=!1,x.value=0,D.value="",h())}catch(t){console.error("Failed to submit rate",t)}finally{j.value=!1}}},w=c(!1),U=c(!1),A=c([]),E=c(null),ve=t=>{switch(t){case"wallet":return Q;case"online":return Ne;case"installment":return Ve;case"bank-transfer":return Ae;default:return Q}},me=async()=>{if(A.value.length>0){w.value=!0;return}U.value=!0;try{const{data:t}=await p("/pay_types",{params:{type:"rent"}});t.value&&t.value.key==="success"&&(A.value=t.value.data,w.value=!0)}catch(t){console.error("Failed to fetch payment types",t)}finally{U.value=!1}},ye=async()=>{const t=A.value.find(s=>s.slug===E.value);if(t)try{const{data:s,error:W}=await p(`/orders/pay-order/${m}`,{method:"POST",body:{pay_type:t.key}});s.value&&(s.value.key==="success"||s.value.status===!0)?(w.value=!1,h()):console.error("Payment failed",W.value||s.value)}catch(s){console.error("Payment submission error",s)}},b=c(null),V=c(!1),y=c(null),g=c(null),M=c(""),ge=()=>{b.value||(y.value=null,g.value=null,M.value="",V.value=!0)},xe=async()=>{if(!(!y.value||!g.value||b.value)){b.value="accept";try{const{data:t}=await p("/orders/rent-accept-received-order",{method:"POST",body:{order_id:m,price:y.value,delivery_period:g.value,notes:M.value}});t.value&&(t.value.key==="success"||t.value.status===!0)&&(I.success(t.value.msg),V.value=!1,h())}catch(t){console.error("Failed to accept received order",t)}finally{b.value=null}}},we=async()=>{if(!b.value){b.value="refuse";try{const{data:t}=await p("/orders/refuse-order",{method:"POST",body:{order_id:m}});t.value&&(t.value.key==="success"||t.value.status===!0)&&(I.success(t.value.msg),h())}catch(t){console.error("Failed to refuse received order",t)}finally{b.value=null}}},P=c(!1),R=c(!1),q=c([]),_=c(null),_e=async()=>{var t;if(q.value.length===0)try{const{data:s}=await p("/cancel-reasons");((t=s.value)==null?void 0:t.key)==="success"&&(q.value=s.value.data)}catch(s){console.error("Failed to fetch cancel reasons",s)}R.value=!0},ke=async()=>{if(!(!_.value||P.value)){P.value=!0;try{const{data:t}=await p("/orders/cancel-order",{method:"POST",body:{order_id:m,cancel_type_reason_id:_.value}});t.value&&(t.value.key==="success"||t.value.status===!0)&&(R.value=!1,h())}catch(t){console.error("Failed to cancel order",t)}finally{P.value=!1}}};return(t,s)=>{var K,Z,ee,te,se,oe,re;const W=$e;return a(),l("div",ze,[o(ne)?(a(),l("div",Le,s[24]||(s[24]=[e("div",{class:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"},null,-1)]))):o(Y)?(a(),l("div",Be,[e("div",Ie,[f(o(J),{class:"w-10 h-10 text-red-500"})]),e("h3",Ue,r(t.$t("cards.maintenanceDetails.errorTitle")),1),e("p",qe,r(o(Y).message),1),e("button",{onClick:s[0]||(s[0]=(...n)=>o(h)&&o(h)(...n)),class:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"},r(t.$t("cards.maintenanceDetails.retry")),1)])):(a(),l("div",We,[f(Fe,{items:[{label:t.$t("profile.orders.title"),to:"/profile/orders",active:!1},{label:t.$t("profile.orders.menuItems.rental.title"),to:"/profile/orders/rental",active:!1},{label:t.$t("cards.rentalDetails.title"),active:!0}],class:"mb-8"},null,8,["items"]),o(i)?(a(),l("div",Ge,[e("div",He,[e("div",Je,[e("div",Qe,[e("h3",Xe,r(t.$t("cards.rentalDetails.orderDetails")),1)]),e("div",Ye,[e("div",Ke,[e("span",Ze,r(t.$t("cards.rentalDetails.orderNum")),1),e("span",et,r(o(i).order_num),1)]),e("div",tt,[e("span",st,r(t.$t("cards.rentalDetails.status")),1),e("span",ot,r(o(i).status_text),1)]),e("div",rt,[e("span",at,r(t.$t("cards.rentalDetails.serviceType")),1),e("span",lt,r(o(i).type_text),1)])])]),e("div",nt,[e("div",it,[e("h3",dt,r(t.$t("cards.rentalDetails.serviceDetails")),1)]),e("div",ct,[e("div",ut,[e("span",bt,r(t.$t("cards.rentalDetails.rentPeriod")),1),e("span",ft,r(o(i).rent_period)+" "+r(t.$t("common.months")),1)]),e("div",pt,[e("span",ht,r(t.$t("cards.rentalDetails.deviceCount")),1),e("span",vt,r(o(i).quantity||1)+" "+r(t.$t("common.device")),1)]),e("div",mt,[e("span",yt,r(t.$t("cards.rentalDetails.startDate")),1),e("span",gt,r(o(i).rent_start_date),1)]),e("div",xt,[e("span",wt,r(t.$t("cards.rentalDetails.deliveryLocation")),1),e("div",{class:"flex items-center gap-1 text-primary-600 font-bold cursor-pointer hover:text-primary-700 hover:underline transition-colors",onClick:s[1]||(s[1]=n=>ie(o(i).lat,o(i).lng))},[f(o(Se),{class:"w-4 h-4"}),e("span",null,r(o(i).map_desc),1)])])])]),o(i).notes?(a(),l("div",_t,[e("div",kt,[e("h3",$t,r(t.$t("cards.rentalDetails.notes")),1)]),e("p",Ct,r(o(i).notes),1)])):d("",!0)]),e("div",Dt,[e("div",{class:"h-48 md:h-56 rounded-2xl overflow-hidden shadow-sm relative group bg-gray-100 cursor-pointer",onClick:s[2]||(s[2]=n=>{var u;return C.value=(u=o(i).machine)==null?void 0:u.image})},[e("img",{src:((K=o(i).machine)==null?void 0:K.image)||"https://placehold.co/600x400?text=Device",alt:"Order Device",class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"},null,8,jt),s[26]||(s[26]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent pointer-events-none"},null,-1)),e("div",Et,[e("div",Mt,[e("h4",Pt,r((Z=o(i).machine)==null?void 0:Z.title),1),e("p",Rt,r((ee=o(i).machine)==null?void 0:ee.device_class),1)]),(te=o(i).machine)!=null&&te.price?(a(),l("div",Ft,[e("div",Ot,[ae(r(o(i).machine.price)+" ",1),s[25]||(s[25]=e("img",{src:H,alt:"sar",class:"w-4 h-4 object-contain inline-block"},null,-1))])])):d("",!0)])]),o(i).providerable&&o(i).order_type!=="received"?(a(),l("div",St,[e("div",Tt,[e("h3",At,r(t.$t("cards.rentalDetails.providerDetails")),1)]),e("div",Vt,[e("div",Nt,[e("div",zt,[e("img",{src:o(i).providerable.image,alt:o(i).providerable.name,class:"w-full h-full object-cover",onError:s[3]||(s[3]=n=>n.target.src="https://placehold.co/100x100?text=Avatar")},null,40,Lt)]),e("div",null,[e("h4",Bt,r(o(i).providerable.name),1)])]),f(W,{to:{path:"/profile/chat",query:{roomId:((se=o(i).providerable)==null?void 0:se.room_id)||((oe=o(i).provider)==null?void 0:oe.room_id)||((re=o(i).buttons)==null?void 0:re.room_id)}},class:"flex items-center gap-2 bg-[#FDF0EC] text-[#bf4e26] px-4 py-2 rounded-lg hover:bg-[#fae2db] transition-colors text-sm font-bold shadow-sm border border-[#bf4e26]/30"},{default:k(()=>[e("span",null,r(t.$t("cards.rentalDetails.chat")),1)]),_:1},8,["to"])])])):d("",!0),o(i).order_type!=="received"&&!o(i).providerable&&o(i).offers?(a(),l($,{key:1},[o(i).offers.length>0?(a(),l("div",It,[e("div",Ut,[e("div",qt,[e("h3",Wt,r(t.$t("cards.rentalDetails.offers")),1)]),e("div",Gt,[(a(!0),l($,null,N(o(i).offers,n=>(a(),l("div",{key:n.id,class:"bg-white/60 rounded-xl p-4 border border-white shadow-sm hover:shadow-md transition-shadow"},[e("div",Ht,[e("div",Jt,[e("div",Qt,[e("img",{src:n.image,alt:n.name,class:"w-full h-full object-cover",onError:s[4]||(s[4]=u=>u.target.src="https://placehold.co/100x100?text=User")},null,40,Xt)]),e("div",null,[e("h4",Yt,r(n.name),1),e("div",Kt,r(n.notes),1)])]),e("div",Zt,[e("div",es,[e("span",ts,r(n.price),1),s[27]||(s[27]=e("img",{src:H,class:"w-4 h-4 object-contain",alt:"SAR"},null,-1))]),n.period?(a(),l("div",ss,r(n.period)+" "+r(n.hour),1)):d("",!0)])]),e("div",os,[e("button",{onClick:u=>fe(n.id),class:"flex-1 background-btn text-white py-3 rounded-lg font-bold text-sm hover:bg-[#723810] transition-colors shadow-sm"},r(t.$t("cards.rentalDetails.accept")),9,rs),e("button",{onClick:u=>pe(n.id),class:"flex-1 bg-[#E8dfd8] text-[#EC2D30] py-2 rounded-lg font-bold text-sm hover:bg-[#dcd0c6] transition-colors"},r(t.$t("cards.rentalDetails.reject")),9,as)])]))),128))])])])):(a(),l("div",ls,[s[28]||(s[28]=e("div",{class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3 text-gray-400"},[e("span",{class:"text-2xl"},"!")],-1)),e("p",ns,r(t.$t("cards.rentalDetails.noOffers")),1)]))],64)):d("",!0)])])):d("",!0),o(i)&&o(i).buttons?(a(),l("div",is,[e("div",ds,[o(i).order_type==="received"?(a(),l("div",cs,[o(i).buttons.accept_order?(a(),l("button",{key:0,onClick:ge,disabled:o(b),class:"flex-1 background-btn text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#723810] hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20 disabled:opacity-50 disabled:cursor-not-allowed"},[o(b)==="accept"?(a(),l("div",bs)):(a(),l("span",fs,r(t.$t("cards.rentalDetails.accept")),1))],8,us)):d("",!0),o(i).buttons.cancel?(a(),l("button",{key:1,onClick:we,disabled:o(b),class:"flex-1 bg-[#E8dfd8] text-[#EC2D30] py-3.5 rounded-xl font-bold text-lg hover:bg-[#dcd0c6] hover:-translate-y-1 transition-all flex items-center justify-center border border-[#EC2D30] disabled:opacity-50 disabled:cursor-not-allowed"},[o(b)==="refuse"?(a(),l("div",hs)):(a(),l("span",vs,r(t.$t("cards.rentalDetails.reject")),1))],8,ps)):d("",!0)])):(a(),l($,{key:1},[o(i).buttons.rate_provider?(a(),l("button",{key:0,onClick:s[5]||(s[5]=n=>T.value=!0),class:"w-full bg-[#bf4e26]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#bf4e26] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20"},[e("span",null,r(t.$t("cards.rentalDetails.rate")),1)])):d("",!0),o(i).buttons.cancel?(a(),l("button",{key:1,onClick:_e,class:"w-full text-[#EC2D30] cancel-btn py-3.5 rounded-xl font-bold text-lg hover:bg-[#E57373] hover:-translate-y-1 transition-all flex items-center justify-center border border-[#EC2D30]"},[e("span",null,r(t.$t("cards.rentalDetails.cancelOrder")),1)])):d("",!0),o(i).buttons.pay_button?(a(),l("button",{key:2,onClick:me,class:"w-full bg-[#C0481F]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#C0481F] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20"},[o(U)?(a(),l("div",ms)):(a(),l("span",ys,r(t.$t("cards.rentalDetails.payNow")),1))])):d("",!0),o(i).buttons.renew_rent||o(i).buttons.end_rent?(a(),l("div",gs,[o(i).buttons.end_rent?(a(),l("button",{key:0,onClick:be,disabled:o(v),class:"flex-1 bg-[#E57373]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#E57373] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20 disabled:opacity-50 disabled:cursor-not-allowed"},[o(v)==="end"?(a(),l("div",ws)):(a(),l("span",_s,r(t.$t("cards.rentalDetails.endRent")),1))],8,xs)):d("",!0),o(i).buttons.renew_rent?(a(),l("button",{key:1,onClick:ue,disabled:o(v),class:"flex-1 bg-[#C0481F]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#C0481F] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20 disabled:opacity-50 disabled:cursor-not-allowed"},[o(v)==="renew"?(a(),l("div",$s)):(a(),l("span",Cs,r(t.$t("cards.rentalDetails.renewRent")),1))],8,ks)):d("",!0)])):d("",!0)],64))])])):d("",!0)])),f(O,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:k(()=>[o(C)?(a(),l("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:s[9]||(s[9]=n=>C.value=null)},[e("div",{class:"relative max-w-4xl max-h-[90vh] w-full",onClick:s[8]||(s[8]=F(()=>{},["stop"]))},[e("button",{onClick:s[6]||(s[6]=n=>C.value=null),class:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors"},[f(o(J),{class:"w-8 h-8"})]),e("img",{src:o(C),class:"w-full h-full object-contain rounded-lg shadow-2xl",alt:"Preview",onError:s[7]||(s[7]=n=>n.target.src="https://placehold.co/600x400?text=Error")},null,40,Ds)])])):d("",!0)]),_:1}),f(O,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:k(()=>[o(T)?(a(),l("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:s[12]||(s[12]=n=>T.value=!1)},[e("div",{class:"bg-white/90 backdrop-blur-md w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/20",onClick:s[11]||(s[11]=F(()=>{},["stop"]))},[e("h3",js,r(t.$t("cards.rentalDetails.rate")),1),e("div",Es,[(a(),l($,null,N(5,n=>e("button",{key:n,onClick:u=>x.value=n,class:"transition-transform hover:scale-110 focus:outline-none"},[f(o(Te),{class:G(["w-10 h-10 transition-colors",n<=o(x)?"fill-yellow-400 text-yellow-400":"text-gray-300"]),"stroke-width":"1.5"},null,8,["class"])],8,Ms)),64))]),e("div",Ps,[e("label",Rs,r(t.$t("cards.maintenanceDetails.rateModal.yourComment")),1),z(e("textarea",{"onUpdate:modelValue":s[10]||(s[10]=n=>B(D)?D.value=n:null),rows:"4",class:"w-full bg-gray-100/50 border border-gray-200 rounded-xl p-4 text-right focus:outline-none focus:ring-2 focus:ring-[#bf4e26]/20 focus:border-[#bf4e26] transition-all resize-none placeholder-gray-400",placeholder:t.$t("cards.maintenanceDetails.rateModal.placeholder")},null,8,Fs),[[L,o(D)]])]),e("button",{onClick:he,disabled:o(x)===0||o(j),class:"w-full bg-[#bf4e26] text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-[#a64420] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[o(j)?(a(),l("div",Ss)):d("",!0),e("span",null,r(t.$t("cards.maintenanceDetails.rateModal.send")),1)],8,Os)])])):d("",!0)]),_:1}),f(O,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:k(()=>{var n;return[o(w)?(a(),l("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:s[15]||(s[15]=u=>w.value=!1)},[e("div",{class:"bg-[#808080] w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/10 relative",onClick:s[14]||(s[14]=F(()=>{},["stop"]))},[e("button",{onClick:s[13]||(s[13]=u=>w.value=!1),class:"absolute top-4 right-4 text-white/70 hover:text-white"},[f(o(J),{class:"w-6 h-6"})]),e("h3",Ts,r(t.$t("cards.maintenanceDetails.paymentModal.title")),1),e("div",As,[e("div",Vs,[f(o(Q),{class:"w-12 h-12 text-[#bf4e26]"})]),e("div",Ns,[ae(r(((n=o(i).machine)==null?void 0:n.price)||"0.00")+" ",1),s[29]||(s[29]=e("img",{src:H,class:"w-5 h-5 object-contain inline-block",alt:"SAR"},null,-1))])]),e("div",zs,[(a(!0),l($,null,N(o(A),u=>(a(),l("div",{key:u.key,onClick:fo=>E.value=u.slug,class:G(["flex items-center justify-between p-4 rounded-xl cursor-pointer transition-all border",o(E)===u.slug?"bg-white/20 border-[#bf4e26] ring-1 ring-[#bf4e26]":"bg-white/5 border-transparent hover:bg-white/10"])},[e("div",Bs,[e("div",Is,[o(E)===u.slug?(a(),l("div",Us)):d("",!0)]),(a(),Pe(Re(ve(u.slug)),{class:"w-5 h-5 text-[#bf4e26]"}))]),e("span",qs,r(u.slug_text),1)],10,Ls))),128))]),e("button",{onClick:ye,disabled:!o(E),class:"w-full bg-[#bf4e26] text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-[#a64420] transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},r(t.$t("cards.maintenanceDetails.paymentModal.confirm")),9,Ws)])])):d("",!0)]}),_:1}),f(O,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:k(()=>[o(V)?(a(),l("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:s[20]||(s[20]=n=>V.value=!1)},[e("div",{class:"bg-white/95 backdrop-blur-md w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/20",onClick:s[19]||(s[19]=F(()=>{},["stop"]))},[e("div",Gs,[e("h3",Hs,r(t.$t("cards.maintenanceDetails.offerDetails")),1)]),e("div",Js,[e("label",Qs,r(t.$t("cards.maintenanceDetails.offerPrice")),1),z(e("input",{"onUpdate:modelValue":s[16]||(s[16]=n=>B(y)?y.value=n:null),type:"number",placeholder:t.$t("cards.maintenanceDetails.offerPrice"),class:"w-full p-4 rounded-xl border border-gray-200 bg-white/80 text-right focus:outline-none focus:ring-2 focus:ring-[#bf4e26]/20 transition-all font-bold text-lg"},null,8,Xs),[[L,o(y)]])]),e("div",Ys,[s[30]||(s[30]=e("label",{class:"block text-gray-700 font-bold mb-2"},"مدة التوصيل",-1)),z(e("input",{"onUpdate:modelValue":s[17]||(s[17]=n=>B(g)?g.value=n:null),type:"text",placeholder:"مثال: 3 أيام",class:"w-full p-4 rounded-xl border border-gray-200 bg-white/80 text-right focus:outline-none focus:ring-2 focus:ring-[#bf4e26]/20 transition-all"},null,512),[[L,o(g)]])]),e("div",Ks,[s[31]||(s[31]=e("label",{class:"block text-gray-700 font-bold mb-2"},"ملاحظات إضافية",-1)),z(e("textarea",{"onUpdate:modelValue":s[18]||(s[18]=n=>B(M)?M.value=n:null),rows:"3",placeholder:"أضف أي ملاحظات هنا...",class:"w-full p-4 rounded-xl border border-gray-200 bg-white/80 text-right focus:outline-none focus:ring-2 focus:ring-[#bf4e26]/20 transition-all resize-none"},null,512),[[L,o(M)]])]),e("button",{onClick:xe,disabled:o(b)||!o(y)||!o(g),class:"w-full bg-[#bf4e26] text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#a64420] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[o(b)==="accept"?(a(),l("div",eo)):d("",!0),e("span",null,r(t.$t("common.send")),1)],8,Zs)])])):d("",!0)]),_:1}),f(O,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:k(()=>[o(R)?(a(),l("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:s[23]||(s[23]=n=>R.value=!1)},[e("div",{class:"bg-white/90 backdrop-blur-md w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/20",onClick:s[22]||(s[22]=F(()=>{},["stop"]))},[e("h3",to,r(t.$t("cancelModal.title")),1),e("div",so,[(a(!0),l($,null,N(o(q),n=>(a(),l("div",{key:n.id,onClick:u=>_.value=n.id,class:G(["flex items-center justify-between p-4 rounded-xl cursor-pointer transition-all border group",o(_)===n.id?"bg-red-50 border-red-200 ring-1 ring-red-200":"bg-gray-50 border-transparent hover:bg-gray-100"])},[e("div",ro,[o(_)===n.id?(a(),l("div",ao)):d("",!0)]),e("span",lo,r(n.name),1)],10,oo))),128))]),e("div",no,[e("button",{onClick:ke,disabled:!o(_)||o(P),class:"w-full bg-[#E57373] text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-[#d45d5d] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[o(P)?(a(),l("div",co)):d("",!0),e("span",null,r(t.$t("cancelModal.confirm")),1)],8,io),e("button",{onClick:s[21]||(s[21]=n=>R.value=!1),class:"w-full bg-gray-100 text-gray-600 py-3 rounded-xl font-bold text-lg hover:bg-gray-200 transition-colors"},r(t.$t("cancelModal.cancel")),1)])])])):d("",!0)]),_:1})])}}};export{Eo as default};
