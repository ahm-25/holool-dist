import{_}from"./ugLHR3pJ.js";import{_ as g}from"./D8SCqKgf.js";import{K as b,H as v,G as x,g as w,c as C,a as r,b as l,r as c,o as y}from"./BbGrFMje.js";import{u as B}from"./BSK9vcVU.js";import"./BJZ2LJPp.js";import"./CldZMn79.js";import"./D9AGL8b1.js";import"./DBvlfwT6.js";const P={class:"min-h-screen w-full relative overflow-hidden"},R={class:"w-full max-w-4xl p-4 flex flex-col items-center mx-auto"},G={__name:"index",setup(V){const s=b(),t=B(),i=v(),u=x(),n=c(""),a=c(!1);w(async()=>{try{await s.changePhoneResendCode()}catch(o){console.error("Failed to send initial code:",o)}});const m=async o=>{a.value=!0;try{const e=await s.changePhoneCheckCode(o);e.success?(t.success(e.message||"تم التحقق بنجاح"),i.push(u("/profile/more/settings/change-phone/new-number"))):t.error(e.error||"كود التحقق غير صحيح")}catch{t.error("حدث خطأ أثناء التحقق")}finally{a.value=!1}},d=async()=>{try{const o=await s.changePhoneResendCode();o.success?t.success(o.message||"تم إعادة إرسال الكود"):t.error(o.error||"فشل إعادة إرسال الكود")}catch{t.error("حدث خطأ أثناء إعادة إرسال الكود")}};return(o,e)=>{const p=_,f=g;return y(),C("div",P,[e[1]||(e[1]=r("div",{class:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-white/10 rounded-full blur-[100px] pointer-events-none"},null,-1)),e[2]||(e[2]=r("div",{class:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-[#8B4513]/10 rounded-full blur-[100px] pointer-events-none"},null,-1)),l(p,{items:[{label:"الاعدادات",to:"/profile/more/settings",active:!1},{label:"تغيير رقم الجوال",to:"/profile/more/settings/change-phone",active:!0}],direction:"rtl"}),r("div",R,[l(f,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=h=>n.value=h),length:4,"initial-time":59,"confirm-text":"تعديل",onConfirm:m,onResend:d},null,8,["modelValue"])])])}}};export{G as default};
