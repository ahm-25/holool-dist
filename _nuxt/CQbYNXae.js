import{_ as ae}from"./DcEVD5g_.js";import{_ as re,W as le,H as ne,G as ie,c as i,a as e,C as t,b as c,t as l,M as F,F as f,J as d,B as j,w as D,S as I,a6 as B,P as de,Q as ce,Y as ue,d as me,A as be,U as fe,O as pe,m as W,r as u,o as n}from"./3xVLZ2qR.js";import{_ as U}from"./e2BhSMQC.js";import{b as p}from"./CSoW_MW-.js";import{_ as he}from"./C9Z1dL1Q.js";import{C as N}from"./BSXfmHdH.js";import{M as q}from"./EzygixSb.js";import{S as ve}from"./DBeL6SDR.js";import{W as R,L as ye,B as _e}from"./483W8Nd1.js";import{C as ge}from"./BeFzbJdI.js";import"./BAccf7o5.js";import"./itcCnCPa.js";import"./CbMxxevO.js";const xe={class:"min-h-screen pb-24 font-sans text-right relative"},we={key:0,class:"flex items-center justify-center min-h-[60vh]"},ke={key:1,class:"max-w-7xl mx-auto px-4 py-12 flex flex-col items-center text-center"},$e={class:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mb-4"},Ce={class:"text-xl font-bold text-gray-800 mb-2"},je={class:"text-gray-500 mb-6"},De={key:2,class:"pt-8 px-4 md:px-8 max-w-7xl mx-auto"},Me={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-24"},Ee={class:"space-y-6"},Pe={class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},Fe={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},Ie={class:"text-gray-800 font-bold text-lg"},Be={class:"space-y-3"},Oe={class:"flex justify-between items-center"},Te={class:"text-gray-500 text-sm font-medium"},Ae={class:"text-gray-800 font-bold font-mono"},Ne={class:"flex justify-between items-center"},Re={class:"text-gray-500 text-sm font-medium"},Se={class:"flex justify-between items-center"},ze={class:"text-gray-500 text-sm font-medium"},Le={class:"text-gray-800 font-bold"},Ve={key:0,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},We={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},Ue={class:"text-gray-800 font-bold text-lg"},qe={class:"space-y-3"},Ge={class:"flex justify-between items-center"},He={class:"text-gray-500 text-sm font-medium"},Je={class:"text-gray-800 font-bold"},Qe={class:"flex justify-between items-center"},Xe={class:"text-gray-500 text-sm font-medium"},Ye={class:"text-gray-800 font-bold"},Ke={class:"flex justify-between items-center"},Ze={class:"text-gray-500 text-sm font-medium"},et={class:"text-gray-800 font-bold font-mono"},tt={key:0,class:"flex justify-between items-start"},st={class:"text-gray-500 text-sm font-medium"},ot={key:0,class:"flex justify-between items-center"},at={class:"text-gray-500 text-sm font-medium"},rt={class:"text-gray-800 font-bold font-mono"},lt={key:1,class:"flex justify-between items-center"},nt={class:"text-gray-500 text-sm font-medium"},it={class:"text-gray-800 font-bold"},dt={key:2,class:"flex justify-between items-center"},ct={class:"text-gray-500 text-sm font-medium"},ut={class:"text-gray-800 font-bold"},mt={key:3,class:"flex justify-between items-start"},bt={class:"text-gray-500 text-sm font-medium"},ft={key:1,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},pt={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},ht={class:"text-gray-800 font-bold text-lg"},vt={class:"text-gray-600 text-sm leading-relaxed"},yt={class:"space-y-6"},_t=["src"],gt={key:1,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},xt={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},wt={class:"text-gray-800 font-bold text-lg"},kt={class:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide"},$t=["onClick"],Ct={key:0,class:"w-full h-full relative"},jt=["src"],Dt=["src","alt"],Mt={key:2,class:"space-y-4"},Et={class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},Pt={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},Ft={class:"text-gray-800 font-bold text-lg"},It={class:"flex items-center justify-between"},Bt={class:"flex items-center gap-3"},Ot={class:"w-12 h-12 rounded-full overflow-hidden border-2 border-white shadow-md"},Tt=["src","alt"],At={class:"font-bold text-gray-800 text-sm"},Nt={key:0,class:"space-y-4"},Rt={class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},St={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},zt={class:"text-gray-800 font-bold text-lg"},Lt={class:"space-y-4"},Vt={class:"flex items-start justify-between mb-4"},Wt={class:"flex items-center gap-3"},Ut={class:"w-12 h-12 rounded-full overflow-hidden border border-gray-200 bg-gray-50"},qt=["src","alt"],Gt={class:"font-bold text-gray-800 text-sm"},Ht={class:"text-xs text-gray-500 mt-1 line-clamp-1"},Jt={class:"text-left"},Qt={class:"flex items-baseline gap-1 text-primary-600 font-bold text-lg"},Xt={class:"text-[#A6431F]"},Yt={class:"text-xs text-gray-400 mt-1"},Kt={class:"flex gap-3"},Zt=["onClick"],es=["onClick"],ts={key:1,class:"pointer-events-none"},ss={class:"max-w-md mx-auto px-4 pointer-events-auto space-y-3"},os={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},as={key:1},rs={key:3},ls={class:"w-full bg-[#bf4e26]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#bf4e26] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20"},ns=["src"],is=["src"],ds={class:"text-center text-gray-800 font-bold text-lg mb-6"},cs={class:"flex justify-center gap-2 mb-8",dir:"ltr"},us=["onClick"],ms={class:"mb-6"},bs={class:"block text-right text-gray-600 mb-2 text-sm"},fs=["placeholder"],ps=["disabled"],hs={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},vs={class:"text-center text-gray-900 font-bold text-lg mb-2 border-b border-white/10 pb-4"},ys={class:"flex flex-col items-center justify-center py-6"},_s={class:"mb-2"},gs={class:"text-[#bf4e26] font-bold text-2xl dir-rtl"},xs={class:"space-y-3 mb-6"},ws=["onClick"],ks={class:"flex items-center gap-3"},$s={class:"w-5 h-5 rounded-full border border-gray-400 flex items-center justify-center p-0.5"},Cs={key:0,class:"w-full h-full bg-[#bf4e26] rounded-full"},js={class:"font-medium text-gray-800"},Ds=["disabled"],Ms={class:"text-center text-gray-800 font-bold text-lg mb-6"},Es={class:"space-y-3 mb-8"},Ps=["onClick"],Fs={class:"w-5 h-5 rounded-full border border-gray-300 flex items-center justify-center p-0.5"},Is={key:0,class:"w-full h-full bg-red-500 rounded-full"},Bs={class:"font-medium text-gray-700 text-right flex-1 mr-4"},Os={class:"flex flex-col gap-3"},Ts=["disabled"],As={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},Ns={__name:"[id]",async setup(Rs){let M,S;const g=pe().params.id,{data:G,pending:H,error:z,refresh:h}=([M,S]=le(()=>p(`/orders/maintenance-details/${g}`,{key:`maintenance-order-${g}`})),M=await M,S(),M),a=W(()=>G.value?.data||null),J=o=>"text-green-600",m=u(null),E=u(!1),v=u(0),x=u(""),L=(o,s)=>{o&&s&&window.open(`https://www.google.com/maps/search/?api=1&query=${o},${s}`,"_blank")},y=u(!1),O=u(!1),P=u([]),w=u(null),Q=W(()=>a.value?.providerable?.price?a.value.providerable.price:null),X=o=>{switch(o){case"wallet":return R;case"online":return ge;case"installment":return _e;case"bank-transfer":return ye;default:return R}},Y=async()=>{if(P.value.length>0){y.value=!0;return}O.value=!0;try{const{data:o}=await p("/pay_types",{params:{type:"maintenance"}});o.value&&o.value.key==="success"&&(P.value=o.value.data,y.value=!0)}catch(o){console.error("Failed to fetch payment types",o)}finally{O.value=!1}},K=async()=>{const o=P.value.find(s=>s.slug===w.value);if(o)try{const{data:s,error:A}=await p(`/orders/pay-order/${g}`,{method:"POST",body:{pay_type:o.key}});s.value&&(s.value.key==="success"||s.value.status===!0)?(y.value=!1,h()):console.error("Payment failed",A.value||s.value)}catch(s){console.error("Payment submission error",s)}},Z=async o=>{try{const{data:s}=await p(`/orders/accept-offer/${o}`);s.value&&(s.value.key==="success"||s.value.status===!0)&&h()}catch(s){console.error("Failed to accept offer",s)}},ee=async o=>{try{const{data:s}=await p(`/orders/refuse-offer/${o}`);s.value&&(s.value.key==="success"||s.value.status===!0)&&h()}catch(s){console.error("Failed to refuse offer",s)}};ne(),ie();const k=u(!1),te=async()=>{if(!(v.value===0||k.value)){k.value=!0;try{const{data:o}=await p("/rate",{method:"POST",body:{order_id:g,rate:v.value,comment:x.value}});o.value&&(o.value.key==="success"||o.value.status===!0)&&(E.value=!1,v.value=0,x.value="",h())}catch(o){console.error("Failed to submit rate",o)}finally{k.value=!1}}},$=u(!1),C=u(!1),T=u([]),_=u(null),se=async()=>{if(T.value.length===0)try{const{data:o}=await p("/cancel-reasons");o.value?.key==="success"&&(T.value=o.value.data)}catch(o){console.error("Failed to fetch cancel reasons",o)}C.value=!0},oe=async()=>{if(!(!_.value||$.value)){$.value=!0;try{const{data:o}=await p("/orders/cancel-order",{method:"POST",body:{order_id:g,cancel_type_reason_id:_.value}});o.value&&(o.value.key==="success"||o.value.status===!0)&&(C.value=!1,h())}catch(o){console.error("Failed to cancel order",o)}finally{$.value=!1}}};return(o,s)=>{const A=ae;return n(),i("div",null,[e("div",xe,[t(H)?(n(),i("div",we,[...s[22]||(s[22]=[e("div",{class:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"},null,-1)])])):t(z)?(n(),i("div",ke,[e("div",$e,[c(t(N),{class:"w-10 h-10 text-red-500"})]),e("h3",Ce,l(o.$t("cards.maintenanceDetails.errorTitle")),1),e("p",je,l(t(z).message),1),e("button",{onClick:s[0]||(s[0]=(...r)=>t(h)&&t(h)(...r)),class:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"},l(o.$t("cards.maintenanceDetails.retry")),1)])):(n(),i("div",De,[c(he,{items:[{label:o.$t("profile.orders.title"),to:"/profile/orders",active:!1},{label:o.$t("profile.orders.menuItems.maintenance.title"),to:"/profile/orders/maintenance",active:!1},{label:o.$t("cards.maintenanceDetails.title"),active:!0}],class:"mb-8"},null,8,["items"]),t(a)?(n(),i("div",Me,[e("div",Ee,[e("div",Pe,[e("div",Fe,[e("h3",Ie,l(o.$t("cards.maintenanceDetails.orderInfo")),1)]),e("div",Be,[e("div",Oe,[e("span",Te,l(o.$t("cards.maintenanceDetails.orderNum")),1),e("span",Ae,l(t(a).order_num),1)]),e("div",Ne,[e("span",Re,l(o.$t("cards.maintenanceDetails.status")),1),e("span",{class:F(["font-bold",J(t(a).status)])},l(t(a).status_text),3)]),e("div",Se,[e("span",ze,l(o.$t("cards.maintenanceDetails.serviceType")),1),e("span",Le,l(t(a).type_text),1)])])]),t(a).order_details||t(a).maintenance_type==="immediate"?(n(),i("div",Ve,[e("div",We,[e("h3",Ue,l(o.$t("cards.maintenanceDetails.serviceInfo")),1)]),e("div",qe,[t(a).order_details?(n(),i(f,{key:0},[e("div",Ge,[e("span",He,l(o.$t("cards.maintenanceDetails.contractPeriod")),1),e("span",Je,l(t(a).order_details.contract_period)+" "+l(t(a).order_details.years_text),1)]),e("div",Qe,[e("span",Xe,l(o.$t("cards.maintenanceDetails.deviceCount")),1),e("span",Ye,l(t(a).order_details.device_count)+" "+l(t(a).order_details.device_text),1)]),e("div",Ke,[e("span",Ze,l(o.$t("cards.maintenanceDetails.endDate")),1),e("span",et,l(t(a).order_details.end_date),1)]),t(a).order_details.location?(n(),i("div",tt,[e("span",st,l(o.$t("cards.maintenanceDetails.location")),1),e("div",{class:"flex items-center gap-1 text-primary-600 font-bold cursor-pointer hover:text-primary-700 hover:underline transition-colors",onClick:s[1]||(s[1]=r=>L(t(a).order_details.location.lat,t(a).order_details.location.lng))},[c(t(q),{class:"w-4 h-4"}),e("span",null,l(t(a).order_details.location.map_desc),1)])])):d("",!0)],64)):(n(),i(f,{key:1},[t(a).device_no?(n(),i("div",ot,[e("span",at,l(o.$t("maintenance.immediate.serialNumber")),1),e("span",rt,l(t(a).device_no),1)])):d("",!0),t(a).device_model?(n(),i("div",lt,[e("span",nt,l(o.$t("maintenance.immediate.model")),1),e("span",it,l(t(a).device_model),1)])):d("",!0),t(a).facility_name?(n(),i("div",dt,[e("span",ct,l(o.$t("maintenance.immediate.department")),1),e("span",ut,l(t(a).facility_name),1)])):d("",!0),t(a).map_desc?(n(),i("div",mt,[e("span",bt,l(o.$t("maintenance.immediate.deviceLocation")),1),e("div",{class:"flex items-center gap-1 text-primary-600 font-bold cursor-pointer hover:text-primary-700 hover:underline transition-colors",onClick:s[2]||(s[2]=r=>L(t(a).lat,t(a).lng))},[c(t(q),{class:"w-4 h-4"}),e("span",null,l(t(a).map_desc),1)])])):d("",!0)],64))])])):d("",!0),t(a).notes?(n(),i("div",ft,[e("div",pt,[e("h3",ht,l(o.$t("cards.maintenanceDetails.notes")),1)]),e("p",vt,l(t(a).notes),1)])):d("",!0)]),e("div",yt,[t(a).image?(n(),i("div",{key:0,class:"h-48 md:h-56 rounded-2xl overflow-hidden shadow-sm relative group bg-gray-100 cursor-pointer",onClick:s[4]||(s[4]=r=>m.value=t(a).image)},[t(a).image?(n(),i("img",{key:0,src:t(a).image,onError:s[3]||(s[3]=r=>r.target.src="https://placehold.co/600x400?text=Device"),alt:"Order Device",class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"},null,40,_t)):d("",!0),s[23]||(s[23]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent pointer-events-none"},null,-1))])):d("",!0),t(a).image_damages&&t(a).image_damages.length>0?(n(),i("div",gt,[e("div",xt,[e("h3",wt,l(o.$t("maintenance.immediate.faultImaging"))+" : ",1)]),e("div",kt,[(n(!0),i(f,null,j(t(a).image_damages,(r,b)=>(n(),i("div",{key:r.id||b,class:"flex-shrink-0 w-16 h-16 md:w-20 md:h-20 rounded-lg overflow-hidden border-2 border-white shadow-sm hover:border-primary-300 transition-colors cursor-pointer group relative",onClick:V=>m.value=r.file||r},[r.type===1||((r.file||r)+"").match(/\.(mp4|mov|webm)$/i)?(n(),i("div",Ct,[e("video",{src:r.file||r,class:"w-full h-full object-cover",muted:"",preload:"metadata"},null,8,jt),s[24]||(s[24]=e("div",{class:"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-black/30 transition-colors"},[e("div",{class:"w-8 h-8 rounded-full bg-white/30 backdrop-blur-sm flex items-center justify-center shadow-sm"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-4 h-4 text-white"},[e("path",{"fill-rule":"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z","clip-rule":"evenodd"})])])],-1))])):(n(),i("img",{key:1,src:r.file||r,alt:`Damage ${b}`,class:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:s[5]||(s[5]=V=>V.target.src="https://placehold.co/100x100?text=Error")},null,40,Dt))],8,$t))),128))])])):d("",!0),t(a).buttons&&t(a).buttons.pay_button||t(a).provider||t(a).providerable?(n(),i("div",Mt,[e("div",Et,[e("div",Pt,[e("h3",Ft,l(o.$t("cards.maintenanceDetails.providerDetails")),1)]),e("div",It,[e("div",Bt,[e("div",Ot,[e("img",{src:t(a).provider?.image||t(a).providerable?.image||t(a).offers?.[0]?.image,alt:t(a).provider?.name||t(a).providerable?.name||t(a).offers?.[0]?.name,class:"w-full h-full object-cover",onError:s[6]||(s[6]=r=>r.target.src="https://placehold.co/100x100?text=Avatar")},null,40,Tt)]),e("div",null,[e("h4",At,l(t(a).provider?.name||t(a).providerable?.name||t(a).offers?.[0]?.name),1)])]),c(A,{to:{path:"/profile/chat",query:{roomId:t(a).providerable?.room_id||t(a).provider?.room_id||t(a).buttons?.room_id}},class:"flex items-center gap-2 bg-[#EADFD8] text-[#8C6B5D] px-4 py-2 rounded-lg hover:bg-[#E0D0C5] transition-colors text-sm font-bold shadow-sm border border-[#DCCAC0]"},{default:D(()=>[e("span",null,l(o.$t("cards.maintenanceDetails.chat")),1)]),_:1},8,["to"])])])])):d("",!0),!t(a).buttons?.pay_button&&!t(a).provider&&!t(a).providerable?(n(),i(f,{key:3},[t(a).offers&&t(a).offers.length>0?(n(),i("div",Nt,[e("div",Rt,[e("div",St,[e("h3",zt,l(o.$t("cards.maintenanceDetails.offers")),1)]),e("div",Lt,[(n(!0),i(f,null,j(t(a).offers,r=>(n(),i("div",{key:r.id,class:"bg-white/60 rounded-xl p-4 border border-white shadow-sm hover:shadow-md transition-shadow"},[e("div",Vt,[e("div",Wt,[e("div",Ut,[e("img",{src:r.image,alt:r.name,class:"w-full h-full object-cover",onError:s[7]||(s[7]=b=>b.target.src="https://placehold.co/100x100?text=User")},null,40,qt)]),e("div",null,[e("h4",Gt,l(r.name),1),e("div",Ht,l(r.notes),1)])]),e("div",Jt,[e("div",Qt,[e("span",Xt,l(r.price),1),s[25]||(s[25]=e("img",{src:U,alt:"sar",class:"w-4 h-4 object-contain"},null,-1))]),e("div",Yt,l(r.period||r.hour),1)])]),e("div",Kt,[e("button",{onClick:b=>Z(r.id),class:"flex-1 background-btn text-white py-3 rounded-lg font-bold text-sm hover:bg-[#723810] transition-colors shadow-sm"},l(o.$t("cards.maintenanceDetails.accept")),9,Zt),e("button",{onClick:b=>ee(r.id),class:"flex-1 bg-[#E8dfd8] text-[#EC2D30] py-2 rounded-lg font-bold text-sm hover:bg-[#dcd0c6] transition-colors"},l(o.$t("cards.maintenanceDetails.reject")),9,es)])]))),128))])])])):d("",!0)],64)):d("",!0)])])):d("",!0),t(a)&&t(a).buttons?(n(),i("div",ts,[e("div",ss,[t(a).buttons.pay_button?(n(),i("button",{key:0,onClick:Y,class:"w-full bg-[#bf4e26]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#bf4e26] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20"},[t(O)?(n(),i("div",os)):(n(),i("span",as,l(o.$t("cards.maintenanceDetails.payNow")),1))])):d("",!0),t(a).buttons.cancel?(n(),i("button",{key:1,onClick:se,class:"w-full text-[#EC2D30] cancel-btn py-3.5 rounded-xl font-bold text-lg hover:bg-[#E57373] hover:-translate-y-1 transition-all flex items-center justify-center border border-[#EC2D30]"},[e("span",null,l(o.$t("cards.maintenanceDetails.cancelOrder")),1)])):d("",!0),t(a).buttons.rate?(n(),i("button",{key:2,onClick:s[8]||(s[8]=r=>E.value=!0),class:"w-full bg-[#bf4e26]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#bf4e26] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20"},[e("span",null,l(o.$t("cards.maintenanceDetails.rate")),1)])):d("",!0),t(a).buttons.contact_with_admin?(n(),i("div",rs,[e("button",ls,[e("span",null,l(o.$t("cards.maintenanceDetails.contactWithAdmin")),1)])])):d("",!0)])])):d("",!0)]))]),c(B,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:D(()=>[t(m)?(n(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:s[12]||(s[12]=r=>m.value=null)},[e("div",{class:"relative max-w-4xl max-h-[90vh] w-full",onClick:s[11]||(s[11]=I(()=>{},["stop"]))},[e("button",{onClick:s[9]||(s[9]=r=>m.value=null),class:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors"},[c(t(N),{class:"w-8 h-8"})]),t(m)&&t(m).match(/\.(mp4|mov|webm)$/i)?(n(),i("video",{key:0,src:t(m),controls:"",autoplay:"",class:"w-full h-full max-h-[80vh] object-contain rounded-lg shadow-2xl bg-black"},null,8,ns)):(n(),i("img",{key:1,src:t(m),class:"w-full h-full object-contain rounded-lg shadow-2xl",alt:"Preview",onError:s[10]||(s[10]=r=>r.target.src="https://placehold.co/600x400?text=Error")},null,40,is))])])):d("",!0)]),_:1}),c(B,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:D(()=>[t(E)?(n(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:s[15]||(s[15]=r=>E.value=!1)},[e("div",{class:"bg-white/90 backdrop-blur-md w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/20",onClick:s[14]||(s[14]=I(()=>{},["stop"]))},[e("h3",ds,l(o.$t("cards.maintenanceDetails.rateModal.title")),1),e("div",cs,[(n(),i(f,null,j(5,r=>e("button",{key:r,onClick:b=>v.value=r,class:"transition-transform hover:scale-110 focus:outline-none"},[c(t(ve),{class:F(["w-10 h-10 transition-colors",r<=t(v)?"fill-yellow-400 text-yellow-400":"text-gray-300"]),"stroke-width":"1.5"},null,8,["class"])],8,us)),64))]),e("div",ms,[e("label",bs,l(o.$t("cards.maintenanceDetails.rateModal.yourComment")),1),de(e("textarea",{"onUpdate:modelValue":s[13]||(s[13]=r=>ue(x)?x.value=r:null),rows:"4",class:"w-full bg-gray-100/50 border border-gray-200 rounded-xl p-4 text-right focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all resize-none placeholder-gray-400",placeholder:o.$t("cards.maintenanceDetails.rateModal.placeholder")},null,8,fs),[[ce,t(x)]])]),e("button",{onClick:te,disabled:t(v)===0||t(k),class:"w-full bg-[#bf4e26] text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-[#a64420] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[t(k)?(n(),i("div",hs)):d("",!0),e("span",null,l(o.$t("cards.maintenanceDetails.rateModal.send")),1)],8,ps)])])):d("",!0)]),_:1}),c(B,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:D(()=>[t(y)?(n(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:s[18]||(s[18]=r=>y.value=!1)},[e("div",{class:"bg-[#808080] w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/10 relative",onClick:s[17]||(s[17]=I(()=>{},["stop"]))},[e("button",{onClick:s[16]||(s[16]=r=>y.value=!1),class:"absolute top-4 right-4 text-white/70 hover:text-white"},[c(t(N),{class:"w-6 h-6"})]),e("h3",vs,l(o.$t("cards.maintenanceDetails.paymentModal.title")),1),e("div",ys,[e("div",_s,[c(t(R),{class:"w-12 h-12 text-[#bf4e26]"})]),e("div",gs,[me(l(t(Q)||t(a).providerable?.price||"0.00")+" ",1),s[26]||(s[26]=e("img",{src:U,alt:"sar",class:"w-5 h-5 object-contain inline-block"},null,-1))])]),e("div",xs,[(n(!0),i(f,null,j(t(P),r=>(n(),i("div",{key:r.key,onClick:b=>w.value=r.slug,class:F(["flex items-center justify-between p-4 rounded-xl cursor-pointer transition-all border",t(w)===r.slug?"bg-white/20 border-[#bf4e26] ring-1 ring-[#bf4e26]":"bg-white/5 border-transparent hover:bg-white/10"])},[e("div",ks,[e("div",$s,[t(w)===r.slug?(n(),i("div",Cs)):d("",!0)]),(n(),be(fe(X(r.slug)),{class:"w-5 h-5 text-[#bf4e26]"}))]),e("span",js,l(r.slug_text),1)],10,ws))),128))]),e("button",{onClick:K,disabled:!t(w),class:"w-full bg-[#bf4e26] text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-[#a64420] transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},l(o.$t("cards.maintenanceDetails.paymentModal.confirm")),9,Ds)])])):d("",!0)]),_:1}),c(B,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:D(()=>[t(C)?(n(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:s[21]||(s[21]=r=>C.value=!1)},[e("div",{class:"bg-white/90 backdrop-blur-md w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/20",onClick:s[20]||(s[20]=I(()=>{},["stop"]))},[e("h3",Ms,l(o.$t("cancelModal.title")),1),e("div",Es,[(n(!0),i(f,null,j(t(T),r=>(n(),i("div",{key:r.id,onClick:b=>_.value=r.id,class:F(["flex items-center justify-between p-4 rounded-xl cursor-pointer transition-all border group",t(_)===r.id?"bg-red-50 border-red-200 ring-1 ring-red-200":"bg-gray-50 border-transparent hover:bg-gray-100"])},[e("div",Fs,[t(_)===r.id?(n(),i("div",Is)):d("",!0)]),e("span",Bs,l(r.name),1)],10,Ps))),128))]),e("div",Os,[e("button",{onClick:oe,disabled:!t(_)||t($),class:"w-full bg-[#E57373] text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-[#d45d5d] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[t($)?(n(),i("div",As)):d("",!0),e("span",null,l(o.$t("cancelModal.confirm")),1)],8,Ts),e("button",{onClick:s[19]||(s[19]=r=>C.value=!1),class:"w-full bg-gray-100 text-gray-600 py-3 rounded-xl font-bold text-lg hover:bg-gray-200 transition-colors"},l(o.$t("cancelModal.cancel")),1)])])])):d("",!0)]),_:1})])}}},Zs=re(Ns,[["__scopeId","data-v-fc17add8"]]);export{Zs as default};
