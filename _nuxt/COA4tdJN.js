import{_ as g}from"./CzoAtjtu.js";import{c as b,u as v,F as C,E as _}from"./Bjc_YOAs.js";import{u as k}from"./9CVWbL2z.js";import{_ as y}from"./CZMu9bNE.js";import{r as S,K as M,H as V,G as A,c as B,o as N,a as t,b as a,I as P,C as l,w as U}from"./B0kbPVzu.js";import{u as j}from"./B0CQLlvh.js";import"./Q__ozNUn.js";import"./CzbznNam.js";import"./D_GyIbDE.js";import"./BLXiSgHD.js";const E={class:"min-h-screen w-full flex flex-col items-center justify-center relative overflow-hidden text-[#5c3a31]"},F={class:"w-full max-w-5xl px-4 md:px-8 py-6 flex flex-col h-full"},H={class:"w-full mb-4 md:absolute md:top-8 md:right-12 md:mb-0"},Z={class:"flex-grow flex items-center justify-center py-12"},L={class:"relative w-full max-w-[600px] bg-[#e6d0c9]/60 backdrop-blur-md rounded-[40px] shadow-xl border border-white/20 p-8 md:p-12 flex flex-col items-center"},R={class:"w-full"},W={__name:"new-number",setup($){const{phoneNumber:m}=k(),d=b({phone:m}),{handleSubmit:c}=v({validationSchema:d,initialValues:{phone:""}}),p=o=>{console.log("Selected country:",o)},n=S(!1),u=M(),r=j(),h=V(),f=A(),i=c(async o=>{n.value=!0;try{const e=await u.changePhoneNewPhone(o.phone);e.success?(r.success(e.message||"تم إرسال كود التحقق للرقم الجديد"),h.push({path:f("/profile/more/settings/change-phone/verify-new"),query:{phone:o.phone}})):r.error(e.error||"فشل إرسال الكود للرقم الجديد")}catch{r.error("حدث خطأ أثناء تحديث رقم الجوال")}finally{n.value=!1}});return(o,e)=>{const x=g;return N(),B("div",E,[e[4]||(e[4]=t("div",{class:"absolute top-0 left-0 w-full h-full bg-noise opacity-5 pointer-events-none"},null,-1)),t("div",F,[t("div",H,[a(x,{items:[{label:"الإعدادات",to:"/profile/more/settings",active:!1},{label:"رقم الجوال الجديد",to:"/profile/more/settings/change-phone/new-number",active:!0}],direction:"rtl"})]),t("main",Z,[t("div",L,[e[3]||(e[3]=P('<div class="relative w-48 h-48 md:w-56 md:h-56 flex items-center justify-center mb-6"><svg xmlns="http://www.w3.org/2000/svg" width="201" height="201" viewBox="0 0 201 201" fill="none"><mask id="mask0_584_15547" style="mask-type:luminance;" maskUnits="userSpaceOnUse" x="0" y="0" width="201" height="201"><path d="M0 0H201V201H0V0Z" fill="white"></path></mask><g mask="url(#mask0_584_15547)"><g opacity="0.2"><path d="M133.948 168.688C123.888 173.757 112.525 176.612 100.5 176.612C59.3814 176.612 25.9961 143.227 25.9961 102.108C25.9961 60.9892 59.3814 27.6039 100.5 27.6039C111.909 27.6039 122.722 30.1741 132.393 34.7662" stroke="black" stroke-width="50.094" stroke-dasharray="4.32 4.32"></path></g><path d="M189.53 75.9624C191.967 84.2661 193.275 93.053 193.275 102.145C193.275 153.408 151.718 194.964 100.456 194.964C49.1931 194.964 7.63672 153.408 7.63672 102.145C7.63672 50.8824 49.1931 9.32605 100.456 9.32605C119.696 9.32605 137.568 15.18 152.39 25.2038" stroke="#5A362A" stroke-width="6" stroke-miterlimit="22.93" stroke-linecap="round"></path><path d="M45.1445 27.5994C60.5922 16.1186 79.731 9.32605 100.457 9.32605C108.103 9.32605 115.532 10.2507 122.641 11.9937" stroke="#5A362A" stroke-width="6" stroke-miterlimit="22.93" stroke-linecap="round"></path><path d="M188.427 93.7722C188.686 96.5283 188.819 99.321 188.819 102.145C188.819 150.947 149.256 190.509 100.454 190.509C91.9148 190.509 83.6585 189.298 75.8477 187.038" stroke="#904127" stroke-width="6" stroke-miterlimit="22.93" stroke-linecap="round"></path><path d="M181.59 151.656C179.6 154.806 175.434 155.747 172.284 153.758C169.134 151.769 168.192 147.602 170.182 144.452C172.171 141.302 176.338 140.361 179.488 142.35C182.638 144.339 183.579 148.505 181.59 151.656Z" fill="#A54A2B"></path><path d="M176.883 42.5548C179.134 45.5241 178.551 49.7554 175.582 52.0058C172.613 54.256 168.381 53.6734 166.131 50.7041C163.88 47.7348 164.463 43.5033 167.432 41.2531C170.402 39.0027 174.633 39.5855 176.883 42.5548Z" fill="#6B4032"></path></g></svg></div>',1)),t("form",{onSubmit:e[0]||(e[0]=(...s)=>l(i)&&l(i)(...s)),class:"w-full flex flex-col items-center"},[e[1]||(e[1]=t("div",{class:"w-full text-right mb-3"},[t("label",{class:"text-[#6d3a2e] font-bold text-lg md:text-xl"},"رقم الجوال")],-1)),t("div",R,[a(l(C),{name:"phone"},{default:U(({field:s})=>[a(y,{"model-value":s.value,"onUpdate:modelValue":w=>s.onChange(w),onCountryChanged:p},null,8,["model-value","onUpdate:modelValue"])]),_:1}),a(l(_),{name:"phone",class:"text-red-500 text-xs pr-1 mt-1 block text-right"})]),e[2]||(e[2]=t("button",{type:"submit",class:"w-full max-w-[200px] mt-8 bg-gradient-to-r from-[#b04620] to-[#c25832] hover:from-[#963a19] hover:to-[#a64218] text-white text-lg font-bold py-3.5 px-8 rounded-2xl shadow-[0_4px_14px_rgba(176,70,32,0.39)] transition-all hover:-translate-y-0.5 active:scale-95"}," تأكيد ",-1))],32)])])])])}}};export{W as default};
