import{_ as ce}from"./Ca7HiYBC.js";import{_ as ue}from"./Dk33cpv2.js";import{_ as me}from"./DnRb2zLH.js";import{D as he}from"./BQaCFon0.js";import{E as pe,K as Ae,G as ge,H as fe,W as we,g as ve,u as xe,c as n,a as e,L as be,C as t,t as o,b as C,S as K,M as u,P as g,X as M,T as f,Y as h,J as p,Z as ye,F as _e,B as Ce,Q as Be,$ as ke,d as F,w as Y,r as A,o as d}from"./lgLlP2OD.js";import{_ as Ve}from"./BFLBms6F.js";import{l as H}from"./BgH2Av2K.js";import{e as N,a as X}from"./f__Oa2D6.js";import{c as Ee,a as Re,b as w,d as Ue,u as Ie}from"./Bjx0cUm2.js";import{b as G}from"./BeeXXNaT.js";import{u as qe}from"./C5wg_Vu0.js";import"./CkxSdq50.js";import"./D2f7vru_.js";import"./Ci3ZCnh3.js";const je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHsSURBVHgBtVU7bsJAELVxBK2P4JwglJEocG5AToBzgjgSvy52x0+KuUE4QcgJYgqU1rmB23Qu+QjIe846cswaHKSMZGZ3dvfN7MzbQVVyxLZtvVwu36uqamFq4Ivw+Zg/9Pv9MO+cJjP2ej1D07R3HG5gGuz3+yn0J+bX0E6tVlMWi8VcdvZCZgTAI5QOgBtE42ei9mB34HSeXkuklDW02+0qlAVQN3vA87xovV7bGEbCqXISEN7NeKFUmskOEBSKKagWAoTo/DmWeEQXJftOAmJzSI0cmUqO4BZ1qKAQ4Gaz4VVzc9RqtUwoU1T+0JnM2Ol0bETxhKG/3W7d8Xjsp3gZF2UwGFwWBqTgypaI0sgskdx3eTnOBaSIqEzlu6IRKh/IuPevIo2QiUc0dcFJRpdQhJUNd7vd62g0ej4JyFcCIBbDFCYf34fgHelyJRwYBIZ9MhwOvQNA5qpSqbAAcQVxcLJcLj3xKg6EHEWUFvY1CSyK5MeA7Czw9Ca8TlarlZMHJAH+YQK0g2hdtdvtvvCK8HJ7TgVTHajJ7sSX0mAuzqVDqgMpSINJQBK1yasrZwpfkBgG6Rzq0B6qPD3WadJCeqGzM4dMGfunE1eZoAjXEVX7q7CRuAl9fvFQAPN/RC+ChNuEoNcszYovduv2G/9CzAAAAAAASUVORK5CYII=",Se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHKSURBVHgB5VXJccJAEFwJCvhZIYgIDBngCEwGFhFYD66f7R/Hw3IEQAYQAcoAQlAGxk+qONwtVi5p0WFh86Krtvaae2dmhbgytCyCdrvdKBQKT1iaCSSbw+GwGI/H09wKOp2Opev6hEIw1glkJoemaQ+DwcBVL4siBRD+iMkbDofVNLper/d5PB7ppXsmQ6TDoAKRDXpnxl0URQ7A0mdMTa5h8WI0GjlZPFkeRAChmUmhIpcH0uJMqy9WcOMhCrk/R95//IbZtm2jVCqRr4bh9ft9E8XmhWn8ELFiaRlCwLx35D4VbCHlcnmFCn4Fn0clmJfgrZ0pQMWyCj2EoA6iNfbNNOH0Fv1pyTVbBPkwV6WsVbfbfYkoEKdes5EM9OIuSXjgLehm2+22HvQfhoZ7GDijV1Bi87wohS5wMYFlK3FqXG9JCqS3LgRa6p3jODTSgvB7yGjwSJfap5j4sDUKl/uLARlU5Efhpw72+/1cLl3xj8hVaJcgV6HFgbmP93vHA7fkG0TwZw92u52JqVmpVML5z7MvLvzeIqvYEqeK5OcRWBIwhb9L9cxQ+Lg28NAtJosfIjYx+fKuiCLuH1bPVL45ayTuf74KvgHKgLzN/uCsHwAAAABJRU5ErkJggg==",Me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHiSURBVHgB3VVLUsJAEJ0EgaXxBnMDPUI4gd7AeAJiFb8dyY7PwrkB4QZ6AuIN5ASOJzDugOLja+ykIlRACVqlXTX1OpmZ97p7Mh0h/roZWROu60rCYrForVYrK2vdfD7XhEopvVegXq87pmlew7XFYRYul8thv98PtgQajUbbMAyPFmGM4T/Re2yIIBrtIJW8TmIPBSeRsdfr9fxEoNVq0ctnuEG3270ROazZbCpAdTqdnqFskcnqVzxvIxNXHGhUBQBlIUqlkkN4wnMXGBGyeESad4iiClE/XctdVqvV7EKhMBAf5QqJDzznNLfOAA+nAI26OfDXJULdBxAaUfl2EdMakI8oQOytoMQV8uM1cQZW/LLT6QSAAMQOMmrT2YAkwGYfc5rW8JlRORzO/BbBqZS25mwSgS0jIRCF2ExnUgU6EAopGPgXHLE/mUwUHWYWT6YAi2iACyFFHwIILyk64MM+4i8JbAgpHt8yU/yw/Y4ADu1F8Kkfw7g5viUCxzZ8BBLwmhagxibRoi2R0/hi0qc8TgRms1lAWC6X2yKn8QWkTnBPaKSUPZ7UwCGG5g06iwwkyc8IPvUeuoA233rvkwCLUHvI9cMB+ZDbjdgS2BCT7MqsNYvFIkKji3uYFv/S3gFfvu41jIflqAAAAABJRU5ErkJggg==",Fe=["dir"],De={class:"w-full min-h-screen md:w-[50%] relative flex flex-col items-center justify-center p-6 md:p-12 z-10 overflow-y-auto"},Qe={class:"w-full text-center mb-10"},Je={class:"hidden md:flex justify-center mb-8"},Le=["src"],Pe={class:"flex items-center justify-between"},Te={class:"text-3xl font-bold text-brand-textDark mb-2 flex"},Ke={class:"text-gray-500 text-sm font-medium flex"},Ye={class:"space-y-2"},He={class:"text-sm text-gray-600 font-bold flex px-1"},Ne={class:"relative"},Xe=["src"],Ge=["placeholder"],Oe={key:0,class:"text-red-500 text-xs px-1"},$e={class:"space-y-2"},ze={class:"text-sm text-gray-600 font-bold flex px-1"},We={key:0,class:"text-red-500 text-xs px-1"},Ze={class:"space-y-2"},et={class:"text-sm text-gray-600 font-bold flex px-1"},tt={class:"relative"},st=["src"],rt={disabled:"",value:""},ot=["value"],at={key:0,class:"text-red-500 text-xs px-1"},lt={class:"space-y-2"},it={class:"text-sm text-gray-600 font-bold flex px-1"},nt={class:"relative"},dt=["src"],ct=["placeholder"],ut={key:0,class:"text-red-500 text-xs px-1"},mt={class:"space-y-2"},ht={class:"text-sm text-gray-600 font-bold flex px-1"},pt={class:"relative"},At=["src"],gt=["type","placeholder"],ft=["src"],wt=["src"],vt={key:0,class:"text-red-500 text-xs px-1"},xt={class:"space-y-2"},bt={class:"text-sm text-gray-600 font-bold flex px-1"},yt={class:"relative"},_t=["src"],Ct=["type","placeholder"],Bt=["src"],kt=["src"],Vt={key:0,class:"text-red-500 text-xs px-1"},Et={class:"flex flex-col gap-1 pt-1"},Rt={class:"flex items-center gap-2"},Ut={class:"text-sm font-bold cursor-pointer text-gray-600"},It={key:0,class:"text-red-500 text-xs px-1"},qt=["disabled"],jt={class:"flex flex-col items-center space-y-6 pt-6"},St={class:"text-sm text-gray-600 font-medium"},Mt={class:"p-4 overflow-y-auto max-h-[80vh]"},Ft={class:"text-xl font-bold mb-4 text-brand-primary"},Dt={key:0,class:"flex items-center justify-center p-8 text-gray-500"},Qt=["innerHTML"],es={__name:"register",async setup(Jt){let x,D;const{locale:c,t:i}=pe(),b=A(!1),y=A(!1),_=A(!1),Q=A([]),B=A(!1),k=A(""),V=A(!1),J=Ae(),L=ge(),O=fe(),v=qe(),$=Ee({username:w().required(i("auth.register.errors.usernameRequired")).min(3,i("auth.register.errors.usernameShort")),phone:w().required(i("auth.register.errors.phoneRequired")).min(9,i("auth.register.errors.phoneShort")),city:w().required(i("auth.register.errors.cityRequired")),email:w().email(i("auth.register.errors.invalidEmail")).required(i("auth.register.errors.emailRequired")),password:w().required(i("auth.register.errors.passwordRequired")).min(6,i("auth.register.errors.passwordTooShort")),confirmPassword:w().required(i("auth.register.errors.confirmPasswordRequired")).oneOf([Ue("password")],i("auth.register.errors.passwordsNotMatch")),terms:Re().required(i("auth.register.errors.termsRequired")).oneOf([!0],i("auth.register.errors.termsRequired"))}),{errors:l,defineField:m,handleSubmit:z}=Ie({validationSchema:$,initialValues:{username:"",phone:"",city:"",email:"",password:"",confirmPassword:"",terms:!1}}),[E,W]=m("username"),[R]=m("phone"),[U,Z]=m("city"),[I,ee]=m("email"),[q,te]=m("password"),[j,se]=m("confirmPassword"),[S,re]=m("terms"),{data:P}=([x,D]=we(()=>G("/cities",{auth:!1})),x=await x,D(),x);P.value?.data&&(Q.value=P.value.data.map(r=>({value:r.id,label:r.name}))),ve(()=>{J.initAuth()});const oe=r=>{console.log("Country changed:",r)};xe({title:i("auth.register.title")});const ae=async()=>{if(B.value=!0,!k.value){V.value=!0;try{const{data:r,error:s}=await G("/terms",{auth:!1});r.value&&r.value.key==="success"?k.value=r.value.data:v.error(i("error_fetching_terms"))}catch(r){console.error(r),v.error(i("error_fetching_terms"))}finally{V.value=!1}}},T=z(async r=>{_.value=!0;try{const s=await J.register(r);s.success?(v.success(s.message||i("auth.register.success")),await O.push({path:L("/auth/otp"),query:{phone:r.phone}})):v.error(s.error||i("auth.register.errors.registrationFailed"))}catch(s){console.error("Registration error:",s),v.error(i("auth.register.errors.registrationError"))}finally{_.value=!1}});return(r,s)=>{const le=ce,ie=ue,ne=me,de=he;return d(),n("div",{class:"w-full flex flex-col md:flex-row",dir:t(c)==="ar"?"rtl":"ltr"},[s[15]||(s[15]=e("div",{class:"hidden h-screen md:flex flex-1 radial-gradient-subtle items-center justify-center p-12 relative overflow-hidden sticky top-0"},[e("div",{class:"text-center z-10"},[e("img",{src:be,alt:"logo",class:"w-56 h-48 mx-auto"})])],-1)),e("div",De,[s[13]||(s[13]=e("div",{class:"absolute top-0 left-0"},null,-1)),s[14]||(s[14]=e("div",{class:"mb-8 md:hidden"},[e("svg",{viewBox:"0 0 114 97",class:"w-24 h-20"})],-1)),e("div",Qe,[e("div",Je,[e("img",{src:t(Ve),alt:"logo",class:"w-24 h-20 object-contain"},null,8,Le)]),e("div",Pe,[e("div",null,[e("h2",Te,o(r.$t("auth.register.title")),1),e("p",Ke,o(r.$t("auth.register.subtitle")),1)]),C(le,{variant:"auth",size:"sm"})])]),e("form",{class:"w-full space-y-5",onSubmit:s[10]||(s[10]=K(()=>{},["prevent"]))},[e("div",Ye,[e("label",He,o(r.$t("auth.register.username")),1),e("div",Ne,[e("div",{class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500 pointer-events-none",t(c)==="ar"?"right-0":"left-0"])},[e("img",{src:t(je),alt:"profile",class:"w-5 h-5 object-contain"},null,8,Xe)],2),g(e("input",f({"onUpdate:modelValue":s[0]||(s[0]=a=>h(E)?E.value=a:null)},t(W),{placeholder:r.$t("auth.register.usernamePlaceholder"),class:["w-full bg-[#E9DCD6]/80 border border-white rounded-xl px-4 py-4 font-bold focus:outline-none focus:ring-2 focus:ring-[#A6431F]/30 shadow-sm flex",[t(c)==="ar"?"pr-12 pl-4 text-right":"pl-12 pr-4 text-left",t(l).username?"border-red-500":"border-white"]]}),null,16,Ge),[[M,t(E)]])]),t(l).username?(d(),n("span",Oe,o(t(l).username),1)):p("",!0)]),e("div",$e,[e("label",ze,o(r.$t("auth.register.mobileNumber")),1),C(ie,{modelValue:t(R),"onUpdate:modelValue":s[1]||(s[1]=a=>h(R)?R.value=a:null),onCountryChanged:oe,class:u(t(l).phone?"border-red-500":"")},null,8,["modelValue","class"]),t(l).phone?(d(),n("span",We,o(t(l).phone),1)):p("",!0)]),e("div",Ze,[e("label",et,o(r.$t("auth.register.city")),1),e("div",tt,[e("div",{class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500 pointer-events-none",t(c)==="ar"?"right-0":"left-0"])},[e("img",{src:t(Se),alt:"city",class:"w-5 h-5 object-contain"},null,8,st)],2),g(e("select",f({"onUpdate:modelValue":s[2]||(s[2]=a=>h(U)?U.value=a:null)},t(Z),{class:["w-full bg-[#E9DCD6]/80 border border-white rounded-xl px-4 py-4 font-bold focus:outline-none focus:ring-2 focus:ring-[#A6431F]/30 shadow-sm flex appearance-none",[t(c)==="ar"?"pr-12 pl-4 text-right":"pl-12 pr-4 text-left",t(l).city?"border-red-500":"border-white"]]}),[e("option",rt,o(r.$t("auth.register.cityPlaceholder")),1),(d(!0),n(_e,null,Ce(Q.value,a=>(d(),n("option",{key:a.value,value:a.value},o(a.label),9,ot))),128))],16),[[ye,t(U)]]),e("div",{class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500 pointer-events-none",t(c)==="ar"?"left-0":"right-0"])},[...s[12]||(s[12]=[e("svg",{width:"20",height:"20",stroke:"currentColor",fill:"none","stroke-width":"2"},[e("path",{d:"m6 9 6 6 6-6"})],-1)])],2)]),t(l).city?(d(),n("span",at,o(t(l).city),1)):p("",!0)]),e("div",lt,[e("label",it,o(r.$t("auth.register.email")),1),e("div",nt,[e("div",{class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500 pointer-events-none",t(c)==="ar"?"right-0":"left-0"])},[e("img",{src:t(Me),alt:"email",class:"w-5 h-5 object-contain"},null,8,dt)],2),g(e("input",f({"onUpdate:modelValue":s[3]||(s[3]=a=>h(I)?I.value=a:null)},t(ee),{type:"email",placeholder:r.$t("auth.register.emailPlaceholder"),class:["w-full bg-[#E9DCD6]/80 border border-white rounded-xl px-4 py-4 font-bold focus:outline-none focus:ring-2 focus:ring-[#A6431F]/30 shadow-sm flex",[t(c)==="ar"?"pr-12 pl-4 text-right":"pl-12 pr-4 text-left",t(l).email?"border-red-500":"border-white"]]}),null,16,ct),[[Be,t(I)]])]),t(l).email?(d(),n("span",ut,o(t(l).email),1)):p("",!0)]),e("div",mt,[e("label",ht,o(r.$t("auth.register.password")),1),e("div",pt,[e("div",{class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500 pointer-events-none",t(c)==="ar"?"right-0":"left-0"])},[e("img",{src:t(H),alt:"lock",class:"w-5 h-5 object-contain"},null,8,At)],2),g(e("input",f({type:b.value?"text":"password","onUpdate:modelValue":s[4]||(s[4]=a=>h(q)?q.value=a:null)},t(te),{placeholder:r.$t("auth.register.passwordPlaceholder"),class:["w-full bg-[#E9DCD6]/80 border border-white rounded-xl px-4 py-4 pr-12 pl-12 font-bold focus:outline-none focus:ring-2 focus:ring-[#A6431F]/30 shadow-sm",[t(c)==="ar"?"text-right":"text-left",t(l).password?"border-red-500":"border-white"]]}),null,16,gt),[[M,t(q)]]),e("button",{type:"button",onClick:s[5]||(s[5]=a=>b.value=!b.value),class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500",t(c)==="ar"?"left-0":"right-0"])},[b.value?(d(),n("img",{key:0,src:t(N),alt:"hide password",class:"w-5 h-5 object-contain"},null,8,ft)):(d(),n("img",{key:1,src:t(X),alt:"show password",class:"w-5 h-5 object-contain"},null,8,wt))],2)]),t(l).password?(d(),n("span",vt,o(t(l).password),1)):p("",!0)]),e("div",xt,[e("label",bt,o(r.$t("auth.register.confirmPassword")),1),e("div",yt,[e("div",{class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500 pointer-events-none",t(c)==="ar"?"right-0":"left-0"])},[e("img",{src:t(H),alt:"lock",class:"w-5 h-5 object-contain"},null,8,_t)],2),g(e("input",f({type:y.value?"text":"password","onUpdate:modelValue":s[6]||(s[6]=a=>h(j)?j.value=a:null)},t(se),{placeholder:r.$t("auth.register.confirmPasswordPlaceholder"),class:["w-full bg-[#E9DCD6]/80 border border-white rounded-xl px-4 py-4 pr-12 pl-12 font-bold focus:outline-none focus:ring-2 focus:ring-[#A6431F]/30 shadow-sm",[t(c)==="ar"?"text-right":"text-left",t(l).confirmPassword?"border-red-500":"border-white"]]}),null,16,Ct),[[M,t(j)]]),e("button",{type:"button",onClick:s[7]||(s[7]=a=>y.value=!y.value),class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500",t(c)==="ar"?"left-0":"right-0"])},[y.value?(d(),n("img",{key:0,src:t(N),alt:"hide password",class:"w-5 h-5 object-contain"},null,8,Bt)):(d(),n("img",{key:1,src:t(X),alt:"show password",class:"w-5 h-5 object-contain"},null,8,kt))],2)]),t(l).confirmPassword?(d(),n("span",Vt,o(t(l).confirmPassword),1)):p("",!0)]),e("div",Et,[e("div",Rt,[g(e("input",f({type:"checkbox","onUpdate:modelValue":s[8]||(s[8]=a=>h(S)?S.value=a:null)},t(re),{class:"w-5 h-5 accent-[#A6431F]"}),null,16),[[ke,t(S)]]),e("label",Ut,[F(o(r.$t("auth.register.terms"))+" ",1),e("span",{class:"underline text-[#A6431F]",onClick:K(ae,["prevent"])},o(r.$t("auth.register.termsLink")),1)])]),t(l).terms?(d(),n("span",It,o(t(l).terms),1)):p("",!0)]),e("button",{type:"submit",onClick:s[9]||(s[9]=(...a)=>t(T)&&t(T)(...a)),disabled:_.value,class:"w-full back-btn transition transform hover:-translate-y-1 mt-4 disabled:opacity-50 disabled:cursor-not-allowed"},o(_.value?r.$t("auth.register.registering"):r.$t("auth.register.button")),9,qt),e("div",jt,[e("div",St,[F(o(r.$t("auth.register.haveAccount"))+" ",1),C(ne,{to:t(L)("/auth/login"),class:"text-[#A6431F] font-bold hover:underline"},{default:Y(()=>[F(o(r.$t("auth.register.loginLink")),1)]),_:1},8,["to"])])])],32)]),C(de,{visible:B.value,onClose:s[11]||(s[11]=a=>B.value=!1),width:"600px"},{default:Y(()=>[e("div",Mt,[e("h3",Ft,o(r.$t("auth.register.termsLink")),1),V.value?(d(),n("div",Dt,o(r.$t("loading"))+"... ",1)):(d(),n("div",{key:1,class:"text-gray-700 whitespace-pre-wrap leading-relaxed text-right rtl:text-right ltr:text-left",innerHTML:k.value},null,8,Qt))])]),_:1},8,["visible"])],8,Fe)}}};export{es as default};
