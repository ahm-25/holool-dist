import{_ as fe}from"./BIzi2wWj.js";import{N as me,r as u,W as he,g as pe,H as ve,G as ye,c as n,o as a,b,C as o,a as e,t as r,J as d,d as Y,w as j,F as D,B as F,S as R,a3 as S,O as ge,P as xe,Y as _e,M as N,A as we,V as ke}from"./BYEf0NBg.js";import{_ as B}from"./e2BhSMQC.js";import{b as m}from"./Csww0FSG.js";import{_ as $e}from"./BlwJ1uXT.js";import{u as Ce}from"./SR-Rvwwp.js";import{C as L}from"./D2tlbMjF.js";import{M as je}from"./C9Mv1BY4.js";import{S as De}from"./DN2XmewG.js";import{W as V,L as Me,B as Ee}from"./DxwRgQ11.js";import{C as Pe}from"./CxgYHB2U.js";import"./WbP1RNmY.js";import"./Co_PEXwa.js";import"./cSiaAbyi.js";const Fe={class:"min-h-screen font-sans text-right relative pb-24"},Re={key:0,class:"flex items-center justify-center min-h-[60vh]"},Se={key:1,class:"max-w-7xl mx-auto px-4 py-12 flex flex-col items-center text-center"},Te={class:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mb-4"},Oe={class:"text-xl font-bold text-gray-800 mb-2"},Ae={class:"text-gray-500 mb-6"},Ne={key:2,class:"pt-8 px-4 md:px-8 max-w-7xl mx-auto"},Be={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-24"},Le={class:"space-y-6"},Ve={class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},ze={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},Ie={class:"text-gray-800 font-bold text-lg"},qe={class:"space-y-3"},We={class:"flex justify-between items-center"},Ue={class:"text-gray-500 text-sm font-medium"},Ge={class:"text-gray-800 font-bold font-mono"},He={class:"flex justify-between items-center"},Je={class:"text-gray-500 text-sm font-medium"},Xe={class:"font-bold text-gray-800"},Ye={class:"flex justify-between items-center"},Ke={class:"text-gray-500 text-sm font-medium"},Qe={class:"text-gray-800 font-bold"},Ze={class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},et={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},tt={class:"text-gray-800 font-bold text-lg"},st={class:"space-y-3"},ot={class:"flex justify-between items-center"},rt={class:"text-gray-500 text-sm font-medium"},at={class:"text-gray-800 font-bold"},lt={class:"flex justify-between items-center"},nt={class:"text-gray-500 text-sm font-medium"},it={class:"text-gray-800 font-bold"},dt={class:"flex justify-between items-center"},ct={class:"text-gray-500 text-sm font-medium"},ut={class:"text-gray-800 font-bold font-mono"},bt={class:"flex justify-between items-start"},ft={class:"text-gray-500 text-sm font-medium"},mt={key:0,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},ht={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},pt={class:"text-gray-800 font-bold text-lg"},vt={class:"text-gray-600 text-sm leading-relaxed text-right break-words whitespace-pre-wrap"},yt={class:"space-y-6"},gt=["src"],xt={class:"absolute bottom-4 right-4 left-4 flex justify-between items-end"},_t={class:"bg-black/40 backdrop-blur-md px-3 py-1.5 rounded-lg"},wt={class:"text-white font-bold text-sm"},kt={class:"text-white/80 text-xs"},$t={key:0,class:"bg-white/90 backdrop-blur-md px-3 py-1.5 rounded-lg"},Ct={class:"text-[#A6431F] font-bold text-sm"},jt={key:0,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},Dt={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},Mt={class:"text-gray-800 font-bold text-lg"},Et={class:"flex items-center justify-between"},Pt={class:"flex items-center gap-3"},Ft={class:"w-12 h-12 rounded-full overflow-hidden border-2 border-white shadow-md bg-gray-100"},Rt=["src","alt"],St={class:"font-bold text-gray-800 text-sm"},Tt={key:0,class:"space-y-4"},Ot={class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},At={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},Nt={class:"text-gray-800 font-bold text-lg"},Bt={class:"space-y-4"},Lt={class:"flex items-start justify-between mb-4"},Vt={class:"flex items-center gap-3"},zt={class:"w-12 h-12 rounded-full overflow-hidden border border-gray-200 bg-gray-50"},It=["src","alt"],qt={class:"font-bold text-gray-800 text-sm"},Wt={class:"text-xs text-gray-500 mt-1 line-clamp-1"},Ut={class:"text-left"},Gt={class:"flex items-baseline gap-1 text-primary-600 font-bold text-lg"},Ht={class:"text-[#A6431F] font-mono"},Jt={key:0,class:"text-xs text-gray-400 mt-1"},Xt={class:"flex gap-3"},Yt=["onClick"],Kt=["onClick"],Qt={key:1,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6 text-center py-12"},Zt={class:"text-gray-500 font-medium"},es={key:1,class:"pointer-events-none"},ts={class:"max-w-md mx-auto px-4 pointer-events-auto space-y-3"},ss={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},os={key:1},rs={key:3,class:"flex gap-4"},as=["disabled"],ls={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},ns={key:1},is=["disabled"],ds={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},cs={key:1},us=["src"],bs={class:"text-center text-gray-800 font-bold text-lg mb-6"},fs={class:"flex justify-center gap-2 mb-8",dir:"ltr"},ms=["onClick"],hs={class:"mb-6"},ps={class:"block text-right text-gray-600 mb-2 text-sm"},vs=["placeholder"],ys=["disabled"],gs={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},xs={class:"text-center text-gray-900 font-bold text-lg mb-2 border-b border-white/10 pb-4"},_s={class:"flex flex-col items-center justify-center py-6"},ws={class:"mb-2"},ks={class:"text-[#bf4e26] font-bold text-2xl dir-rtl"},$s={class:"space-y-3 mb-6"},Cs=["onClick"],js={class:"flex items-center gap-3"},Ds={class:"w-5 h-5 rounded-full border border-gray-400 flex items-center justify-center p-0.5"},Ms={key:0,class:"w-full h-full bg-[#bf4e26] rounded-full"},Es={class:"font-medium text-gray-800"},Ps=["disabled"],Fs={class:"text-center text-gray-800 font-bold text-lg mb-6"},Rs={class:"space-y-3 mb-8"},Ss=["onClick"],Ts={class:"w-5 h-5 rounded-full border border-gray-300 flex items-center justify-center p-0.5"},Os={key:0,class:"w-full h-full bg-red-500 rounded-full"},As={class:"font-medium text-gray-700 text-right flex-1 mr-4"},Ns={class:"flex flex-col gap-3"},Bs=["disabled"],Ls={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},oo={__name:"[id]",async setup(Vs){let M,z;const p=me().params.id,x=u(null),{data:K,pending:Q,error:I,refresh:h}=([M,z]=he(()=>m(`/orders/rent-details/${p}`,{key:`rental-order-${p}`})),M=await M,z(),M),i=pe(()=>{var s;return((s=K.value)==null?void 0:s.data)||null}),Z=(s,t)=>{s&&t&&window.open(`https://www.google.com/maps/search/?api=1&query=${s},${t}`,"_blank")},f=u(null),ee=ve(),te=ye(),se=Ce(),oe=async()=>{if(!f.value){f.value="renew";try{const{data:s,error:t}=await m(`/orders/renew-rent-machine/${p}`);s.value?h():t.value&&console.error("Renew rent failed",t.value)}catch(s){console.error("Renew rent exception",s)}finally{f.value=null}}},re=async()=>{if(!f.value){f.value="end";try{const{data:s,error:t}=await m("/orders/finish-order",{method:"POST",body:{order_id:p}});s.value&&(s.value.key==="success"||s.value.status===!0)?(se.success(s.value.msg),ee.push(te("/profile/orders/rental"))):t.value&&console.error("End rent failed",t.value)}catch(s){console.error("End rent exception",s)}finally{f.value=null}}},ae=async s=>{try{const{data:t}=await m(`/orders/accept-offer/${s}`);t.value&&(t.value.key==="success"||t.value.status===!0)&&h()}catch(t){console.error("Failed to accept offer",t)}},le=async s=>{try{const{data:t}=await m(`/orders/refuse-offer/${s}`);t.value&&(t.value.key==="success"||t.value.status===!0)&&h()}catch(t){console.error("Failed to refuse offer",t)}},E=u(!1),v=u(0),_=u(""),w=u(!1),ne=async()=>{if(!(v.value===0||w.value)){w.value=!0;try{const{data:s}=await m("/rate",{method:"POST",body:{order_id:p,rate:v.value,comment:_.value}});s.value&&(s.value.key==="success"||s.value.status===!0)&&(E.value=!1,v.value=0,_.value="",h())}catch(s){console.error("Failed to submit rate",s)}finally{w.value=!1}}},y=u(!1),T=u(!1),P=u([]),k=u(null),ie=s=>{switch(s){case"wallet":return V;case"online":return Pe;case"installment":return Ee;case"bank-transfer":return Me;default:return V}},de=async()=>{if(P.value.length>0){y.value=!0;return}T.value=!0;try{const{data:s}=await m("/pay_types",{params:{type:"rent"}});s.value&&s.value.key==="success"&&(P.value=s.value.data,y.value=!0)}catch(s){console.error("Failed to fetch payment types",s)}finally{T.value=!1}},ce=async()=>{const s=P.value.find(t=>t.slug===k.value);if(s)try{const{data:t,error:A}=await m(`/orders/pay-order/${p}`,{method:"POST",body:{pay_type:s.key}});t.value&&(t.value.key==="success"||t.value.status===!0)?(y.value=!1,h()):console.error("Payment failed",A.value||t.value)}catch(t){console.error("Payment submission error",t)}},$=u(!1),C=u(!1),O=u([]),g=u(null),ue=async()=>{var s;if(O.value.length===0)try{const{data:t}=await m("/cancel-reasons");((s=t.value)==null?void 0:s.key)==="success"&&(O.value=t.value.data)}catch(t){console.error("Failed to fetch cancel reasons",t)}C.value=!0},be=async()=>{if(!(!g.value||$.value)){$.value=!0;try{const{data:s}=await m("/orders/cancel-order",{method:"POST",body:{order_id:p,cancel_type_reason_id:g.value}});s.value&&(s.value.key==="success"||s.value.status===!0)&&(C.value=!1,h())}catch(s){console.error("Failed to cancel order",s)}finally{$.value=!1}}};return(s,t)=>{var q,W,U,G,H,J,X;const A=fe;return a(),n("div",Fe,[o(Q)?(a(),n("div",Re,t[19]||(t[19]=[e("div",{class:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"},null,-1)]))):o(I)?(a(),n("div",Se,[e("div",Te,[b(o(L),{class:"w-10 h-10 text-red-500"})]),e("h3",Oe,r(s.$t("cards.maintenanceDetails.errorTitle")),1),e("p",Ae,r(o(I).message),1),e("button",{onClick:t[0]||(t[0]=(...l)=>o(h)&&o(h)(...l)),class:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"},r(s.$t("cards.maintenanceDetails.retry")),1)])):(a(),n("div",Ne,[b($e,{items:[{label:s.$t("profile.orders.title"),to:"/profile/orders",active:!1},{label:s.$t("profile.orders.menuItems.rental.title"),to:"/profile/orders/rental",active:!1},{label:s.$t("cards.rentalDetails.title"),active:!0}],class:"mb-8"},null,8,["items"]),o(i)?(a(),n("div",Be,[e("div",Le,[e("div",Ve,[e("div",ze,[e("h3",Ie,r(s.$t("cards.rentalDetails.orderDetails")),1)]),e("div",qe,[e("div",We,[e("span",Ue,r(s.$t("cards.rentalDetails.orderNum")),1),e("span",Ge,r(o(i).order_num),1)]),e("div",He,[e("span",Je,r(s.$t("cards.rentalDetails.status")),1),e("span",Xe,r(o(i).status_text),1)]),e("div",Ye,[e("span",Ke,r(s.$t("cards.rentalDetails.serviceType")),1),e("span",Qe,r(o(i).type_text),1)])])]),e("div",Ze,[e("div",et,[e("h3",tt,r(s.$t("cards.rentalDetails.serviceDetails")),1)]),e("div",st,[e("div",ot,[e("span",rt,r(s.$t("cards.rentalDetails.rentPeriod")),1),e("span",at,r(o(i).rent_period)+" "+r(s.$t("common.months")),1)]),e("div",lt,[e("span",nt,r(s.$t("cards.rentalDetails.deviceCount")),1),e("span",it,r(o(i).quantity||1)+" "+r(s.$t("common.device")),1)]),e("div",dt,[e("span",ct,r(s.$t("cards.rentalDetails.startDate")),1),e("span",ut,r(o(i).rent_start_date),1)]),e("div",bt,[e("span",ft,r(s.$t("cards.rentalDetails.deliveryLocation")),1),e("div",{class:"flex items-center gap-1 text-primary-600 font-bold cursor-pointer hover:text-primary-700 hover:underline transition-colors",onClick:t[1]||(t[1]=l=>Z(o(i).lat,o(i).lng))},[b(o(je),{class:"w-4 h-4"}),e("span",null,r(o(i).map_desc),1)])])])]),o(i).notes?(a(),n("div",mt,[e("div",ht,[e("h3",pt,r(s.$t("cards.rentalDetails.notes")),1)]),e("p",vt,r(o(i).notes),1)])):d("",!0)]),e("div",yt,[e("div",{class:"h-48 md:h-56 rounded-2xl overflow-hidden shadow-sm relative group bg-gray-100 cursor-pointer",onClick:t[2]||(t[2]=l=>{var c;return x.value=(c=o(i).machine)==null?void 0:c.image})},[e("img",{src:((q=o(i).machine)==null?void 0:q.image)||"https://placehold.co/600x400?text=Device",alt:"Order Device",class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"},null,8,gt),t[21]||(t[21]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent pointer-events-none"},null,-1)),e("div",xt,[e("div",_t,[e("h4",wt,r((W=o(i).machine)==null?void 0:W.title),1),e("p",kt,r((U=o(i).machine)==null?void 0:U.device_class),1)]),(G=o(i).machine)!=null&&G.price?(a(),n("div",$t,[e("div",Ct,[Y(r(o(i).machine.price)+" ",1),t[20]||(t[20]=e("img",{src:B,alt:"sar",class:"w-4 h-4 object-contain inline-block"},null,-1))])])):d("",!0)])]),o(i).providerable?(a(),n("div",jt,[e("div",Dt,[e("h3",Mt,r(s.$t("cards.rentalDetails.providerDetails")),1)]),e("div",Et,[e("div",Pt,[e("div",Ft,[e("img",{src:o(i).providerable.image,alt:o(i).providerable.name,class:"w-full h-full object-cover",onError:t[3]||(t[3]=l=>l.target.src="https://placehold.co/100x100?text=Avatar")},null,40,Rt)]),e("div",null,[e("h4",St,r(o(i).providerable.name),1)])]),b(A,{to:{path:"/profile/chat",query:{roomId:((H=o(i).providerable)==null?void 0:H.room_id)||((J=o(i).provider)==null?void 0:J.room_id)||((X=o(i).buttons)==null?void 0:X.room_id)}},class:"flex items-center gap-2 bg-[#FDF0EC] text-[#bf4e26] px-4 py-2 rounded-lg hover:bg-[#fae2db] transition-colors text-sm font-bold shadow-sm border border-[#bf4e26]/30"},{default:j(()=>[e("span",null,r(s.$t("cards.rentalDetails.chat")),1)]),_:1},8,["to"])])])):d("",!0),!o(i).providerable&&o(i).offers?(a(),n(D,{key:1},[o(i).offers.length>0?(a(),n("div",Tt,[e("div",Ot,[e("div",At,[e("h3",Nt,r(s.$t("cards.rentalDetails.offers")),1)]),e("div",Bt,[(a(!0),n(D,null,F(o(i).offers,l=>(a(),n("div",{key:l.id,class:"bg-white/60 rounded-xl p-4 border border-white shadow-sm hover:shadow-md transition-shadow"},[e("div",Lt,[e("div",Vt,[e("div",zt,[e("img",{src:l.image,alt:l.name,class:"w-full h-full object-cover",onError:t[4]||(t[4]=c=>c.target.src="https://placehold.co/100x100?text=User")},null,40,It)]),e("div",null,[e("h4",qt,r(l.name),1),e("div",Wt,r(l.notes),1)])]),e("div",Ut,[e("div",Gt,[e("span",Ht,r(l.price),1),t[22]||(t[22]=e("img",{src:B,class:"w-4 h-4 object-contain",alt:"SAR"},null,-1))]),l.period?(a(),n("div",Jt,r(l.period)+" "+r(l.hour),1)):d("",!0)])]),e("div",Xt,[e("button",{onClick:c=>ae(l.id),class:"flex-1 background-btn text-white py-3 rounded-lg font-bold text-sm hover:bg-[#723810] transition-colors shadow-sm"},r(s.$t("cards.rentalDetails.accept")),9,Yt),e("button",{onClick:c=>le(l.id),class:"flex-1 bg-[#E8dfd8] text-[#EC2D30] py-2 rounded-lg font-bold text-sm hover:bg-[#dcd0c6] transition-colors"},r(s.$t("cards.rentalDetails.reject")),9,Kt)])]))),128))])])])):(a(),n("div",Qt,[t[23]||(t[23]=e("div",{class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3 text-gray-400"},[e("span",{class:"text-2xl"},"!")],-1)),e("p",Zt,r(s.$t("cards.rentalDetails.noOffers")),1)]))],64)):d("",!0)])])):d("",!0),o(i)&&o(i).buttons?(a(),n("div",es,[e("div",ts,[o(i).buttons.rate_provider?(a(),n("button",{key:0,onClick:t[5]||(t[5]=l=>E.value=!0),class:"w-full bg-[#bf4e26]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#bf4e26] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20"},[e("span",null,r(s.$t("cards.rentalDetails.rate")),1)])):d("",!0),o(i).buttons.cancel?(a(),n("button",{key:1,onClick:ue,class:"w-full text-[#EC2D30] cancel-btn py-3.5 rounded-xl font-bold text-lg hover:bg-[#E57373] hover:-translate-y-1 transition-all flex items-center justify-center border border-[#EC2D30]"},[e("span",null,r(s.$t("cards.rentalDetails.cancelOrder")),1)])):d("",!0),o(i).buttons.pay_button?(a(),n("button",{key:2,onClick:de,class:"w-full bg-[#C0481F]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#C0481F] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20"},[o(T)?(a(),n("div",ss)):(a(),n("span",os,r(s.$t("cards.rentalDetails.payNow")),1))])):d("",!0),o(i).buttons.renew_rent||o(i).buttons.end_rent?(a(),n("div",rs,[o(i).buttons.end_rent?(a(),n("button",{key:0,onClick:re,disabled:o(f),class:"flex-1 bg-[#E57373]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#E57373] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20 disabled:opacity-50 disabled:cursor-not-allowed"},[o(f)==="end"?(a(),n("div",ls)):(a(),n("span",ns,r(s.$t("cards.rentalDetails.endRent")),1))],8,as)):d("",!0),o(i).buttons.renew_rent?(a(),n("button",{key:1,onClick:oe,disabled:o(f),class:"flex-1 bg-[#C0481F]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#C0481F] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20 disabled:opacity-50 disabled:cursor-not-allowed"},[o(f)==="renew"?(a(),n("div",ds)):(a(),n("span",cs,r(s.$t("cards.rentalDetails.renewRent")),1))],8,is)):d("",!0)])):d("",!0)])])):d("",!0)])),b(S,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:j(()=>[o(x)?(a(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:t[9]||(t[9]=l=>x.value=null)},[e("div",{class:"relative max-w-4xl max-h-[90vh] w-full",onClick:t[8]||(t[8]=R(()=>{},["stop"]))},[e("button",{onClick:t[6]||(t[6]=l=>x.value=null),class:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors"},[b(o(L),{class:"w-8 h-8"})]),e("img",{src:o(x),class:"w-full h-full object-contain rounded-lg shadow-2xl",alt:"Preview",onError:t[7]||(t[7]=l=>l.target.src="https://placehold.co/600x400?text=Error")},null,40,us)])])):d("",!0)]),_:1}),b(S,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:j(()=>[o(E)?(a(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:t[12]||(t[12]=l=>E.value=!1)},[e("div",{class:"bg-white/90 backdrop-blur-md w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/20",onClick:t[11]||(t[11]=R(()=>{},["stop"]))},[e("h3",bs,r(s.$t("cards.rentalDetails.rate")),1),e("div",fs,[(a(),n(D,null,F(5,l=>e("button",{key:l,onClick:c=>v.value=l,class:"transition-transform hover:scale-110 focus:outline-none"},[b(o(De),{class:N(["w-10 h-10 transition-colors",l<=o(v)?"fill-yellow-400 text-yellow-400":"text-gray-300"]),"stroke-width":"1.5"},null,8,["class"])],8,ms)),64))]),e("div",hs,[e("label",ps,r(s.$t("cards.maintenanceDetails.rateModal.yourComment")),1),ge(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=l=>_e(_)?_.value=l:null),rows:"4",class:"w-full bg-gray-100/50 border border-gray-200 rounded-xl p-4 text-right focus:outline-none focus:ring-2 focus:ring-[#bf4e26]/20 focus:border-[#bf4e26] transition-all resize-none placeholder-gray-400",placeholder:s.$t("cards.maintenanceDetails.rateModal.placeholder")},null,8,vs),[[xe,o(_)]])]),e("button",{onClick:ne,disabled:o(v)===0||o(w),class:"w-full bg-[#bf4e26] text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-[#a64420] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[o(w)?(a(),n("div",gs)):d("",!0),e("span",null,r(s.$t("cards.maintenanceDetails.rateModal.send")),1)],8,ys)])])):d("",!0)]),_:1}),b(S,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:j(()=>{var l;return[o(y)?(a(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:t[15]||(t[15]=c=>y.value=!1)},[e("div",{class:"bg-[#808080] w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/10 relative",onClick:t[14]||(t[14]=R(()=>{},["stop"]))},[e("button",{onClick:t[13]||(t[13]=c=>y.value=!1),class:"absolute top-4 right-4 text-white/70 hover:text-white"},[b(o(L),{class:"w-6 h-6"})]),e("h3",xs,r(s.$t("cards.maintenanceDetails.paymentModal.title")),1),e("div",_s,[e("div",ws,[b(o(V),{class:"w-12 h-12 text-[#bf4e26]"})]),e("div",ks,[Y(r(((l=o(i).machine)==null?void 0:l.price)||"0.00")+" ",1),t[24]||(t[24]=e("img",{src:B,class:"w-5 h-5 object-contain inline-block",alt:"SAR"},null,-1))])]),e("div",$s,[(a(!0),n(D,null,F(o(P),c=>(a(),n("div",{key:c.key,onClick:Is=>k.value=c.slug,class:N(["flex items-center justify-between p-4 rounded-xl cursor-pointer transition-all border",o(k)===c.slug?"bg-white/20 border-[#bf4e26] ring-1 ring-[#bf4e26]":"bg-white/5 border-transparent hover:bg-white/10"])},[e("div",js,[e("div",Ds,[o(k)===c.slug?(a(),n("div",Ms)):d("",!0)]),(a(),we(ke(ie(c.slug)),{class:"w-5 h-5 text-[#bf4e26]"}))]),e("span",Es,r(c.slug_text),1)],10,Cs))),128))]),e("button",{onClick:ce,disabled:!o(k),class:"w-full bg-[#bf4e26] text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-[#a64420] transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},r(s.$t("cards.maintenanceDetails.paymentModal.confirm")),9,Ps)])])):d("",!0)]}),_:1}),b(S,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:j(()=>[o(C)?(a(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:t[18]||(t[18]=l=>C.value=!1)},[e("div",{class:"bg-white/90 backdrop-blur-md w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/20",onClick:t[17]||(t[17]=R(()=>{},["stop"]))},[e("h3",Fs,r(s.$t("cancelModal.title")),1),e("div",Rs,[(a(!0),n(D,null,F(o(O),l=>(a(),n("div",{key:l.id,onClick:c=>g.value=l.id,class:N(["flex items-center justify-between p-4 rounded-xl cursor-pointer transition-all border group",o(g)===l.id?"bg-red-50 border-red-200 ring-1 ring-red-200":"bg-gray-50 border-transparent hover:bg-gray-100"])},[e("div",Ts,[o(g)===l.id?(a(),n("div",Os)):d("",!0)]),e("span",As,r(l.name),1)],10,Ss))),128))]),e("div",Ns,[e("button",{onClick:be,disabled:!o(g)||o($),class:"w-full bg-[#E57373] text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-[#d45d5d] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[o($)?(a(),n("div",Ls)):d("",!0),e("span",null,r(s.$t("cancelModal.confirm")),1)],8,Bs),e("button",{onClick:t[16]||(t[16]=l=>C.value=!1),class:"w-full bg-gray-100 text-gray-600 py-3 rounded-xl font-bold text-lg hover:bg-gray-200 transition-colors"},r(s.$t("cancelModal.cancel")),1)])])])):d("",!0)]),_:1})])}}};export{oo as default};
