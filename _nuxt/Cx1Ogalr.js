import{ak as o,al as r}from"./C4psxivV.js";const i=o("home",{state:()=>({homeData:null,loading:!1,error:null}),getters:{images:a=>a.homeData?.images||[],categories:a=>a.homeData?.categories||[],user:a=>a.homeData?.user||null,about:a=>a.homeData?.about||"",appleStoreLink:a=>a.homeData?.apple_store_link||"",googlePlayLink:a=>a.homeData?.google_play_link||"",appImage1:a=>a.homeData?.app_image_1||"",appImage2:a=>a.homeData?.app_image_2||"",introApp:a=>a.homeData?.intro_app||"",footerText:a=>a.homeData?.footer||"",isLoaded:a=>a.homeData!==null},actions:{async fetchHomeData(){if(!this.loading&&!this.homeData){this.loading=!0,this.error=null;try{const a=r(),e=await fetch(`${a.baseURL}/home`,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();if(t?.key==="success"&&t?.data)this.homeData=t.data;else throw new Error("Failed to load home data")}catch(a){throw console.error("Error fetching home data:",a),this.error=a?.message||"An error occurred",a}finally{this.loading=!1}}},clearHomeData(){this.homeData=null,this.error=null},async refreshHomeData(){this.homeData=null,await this.fetchHomeData()}}});export{i as u};
