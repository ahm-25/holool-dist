var I=Object.defineProperty;var $=(a,e,n)=>e in a?I(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n;var C=(a,e,n)=>$(a,typeof e!="symbol"?e+"":e,n);import{aq as G,a6 as W,U as q,g as T,ar as g,as as b,h as x,at as J,j as Q,i as X,n as z,au as Y,r as Z,a5 as U,av as K,a1 as A,aw as k,C as ee,ax as ae,v as V,ay as te,az as se}from"./B5HeACpe.js";const ne={trailing:!0};function re(a,e=25,n={}){if(n={...ne,...n},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let t,s,i=[],r,d;const f=(_,u)=>(r=ie(a,_,u),r.finally(()=>{if(r=null,n.trailing&&d&&!s){const D=f(_,d);return d=null,D}}),r);return function(..._){return r?(n.trailing&&(d=_),r):new Promise(u=>{const D=!s&&n.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const c=n.leading?t:f(this,_);for(const m of i)m(c);i=[]},e),D?(t=f(this,_),u(t)):i.push(u)})}}async function ie(a,e,n){return await a.apply(e,n)}const ce=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],oe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",p=[];class le{constructor(){C(this,"_data",new j);C(this,"_hash",new j([...ce]));C(this,"_nDataBytes",0);C(this,"_minBufferSize",0)}finalize(e){e&&this._append(e);const n=this._nDataBytes*8,t=this._data.sigBytes*8;return this._data.words[t>>>5]|=128<<24-t%32,this._data.words[(t+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(t+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(e,n){const t=this._hash.words;let s=t[0],i=t[1],r=t[2],d=t[3],f=t[4],_=t[5],u=t[6],D=t[7];for(let c=0;c<64;c++){if(c<16)p[c]=e[n+c]|0;else{const h=p[c-15],l=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,w=p[c-2],v=(w<<15|w>>>17)^(w<<13|w>>>19)^w>>>10;p[c]=l+p[c-7]+v+p[c-16]}const m=f&_^~f&u,o=s&i^s&r^i&r,y=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),B=(f<<26|f>>>6)^(f<<21|f>>>11)^(f<<7|f>>>25),O=D+B+m+oe[c]+p[c],P=y+o;D=u,u=_,_=f,f=d+O|0,d=r,r=i,i=s,s=O+P|0}t[0]=t[0]+s|0,t[1]=t[1]+i|0,t[2]=t[2]+r|0,t[3]=t[3]+d|0,t[4]=t[4]+f|0,t[5]=t[5]+_|0,t[6]=t[6]+u|0,t[7]=t[7]+D|0}_append(e){typeof e=="string"&&(e=j.fromUtf8(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_process(e){let n,t=this._data.sigBytes/64;e?t=Math.ceil(t):t=Math.max((t|0)-this._minBufferSize,0);const s=t*16,i=Math.min(s*4,this._data.sigBytes);if(s){for(let r=0;r<s;r+=16)this._doProcessBlock(this._data.words,r);n=this._data.words.splice(0,s),this._data.sigBytes-=i}return new j(n,i)}}class j{constructor(e,n){C(this,"words");C(this,"sigBytes");e=this.words=e||[],this.sigBytes=n===void 0?e.length*4:n}static fromUtf8(e){const n=unescape(encodeURIComponent(e)),t=n.length,s=[];for(let i=0;i<t;i++)s[i>>>2]|=(n.charCodeAt(i)&255)<<24-i%4*8;return new j(s,t)}toBase64(){const e=[];for(let n=0;n<this.sigBytes;n+=3){const t=this.words[n>>>2]>>>24-n%4*8&255,s=this.words[n+1>>>2]>>>24-(n+1)%4*8&255,i=this.words[n+2>>>2]>>>24-(n+2)%4*8&255,r=t<<16|s<<8|i;for(let d=0;d<4&&n*8+d*6<this.sigBytes*8;d++)e.push(ue.charAt(r>>>6*(3-d)&63))}return e.join("")}concat(e){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let n=0;n<e.sigBytes;n++){const t=e.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=t<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<e.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=e.words[n>>>2];this.sigBytes+=e.sigBytes}}function fe(a){return new le().finalize(a).toBase64()}function R(a){return fe(G(a))}function de(a){return Array.isArray(a)?a:[a]}const he=Symbol.for("nuxt:client-only"),ye=a=>a==="defer"||a===!1;function _e(...a){var m;const e=typeof a[a.length-1]=="string"?a.pop():void 0;me(a[0],a[1])&&a.unshift(e);let[n,t,s={}]=a;const i=T(()=>g(n));if(typeof i.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof t!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const r=q();s.server??(s.server=!0),s.default??(s.default=ve),s.getCachedData??(s.getCachedData=H),s.lazy??(s.lazy=!1),s.immediate??(s.immediate=!0),s.deep??(s.deep=b.deep),s.dedupe??(s.dedupe="cancel"),s._functionName,r._asyncData[i.value];const d={cause:"initial",dedupe:s.dedupe};(m=r._asyncData[i.value])!=null&&m._init||(d.cachedData=s.getCachedData(i.value,r,{cause:"initial"}),r._asyncData[i.value]=N(r,i.value,t,s,d.cachedData));const f=r._asyncData[i.value];f._deps++;const _=()=>r._asyncData[i.value].execute(d),u=s.server!==!1&&r.payload.serverRendered;{let o=function(h){const l=r._asyncData[h];l!=null&&l._deps&&(l._deps--,l._deps===0&&(l==null||l._off()))};const y=x();if(y&&u&&s.immediate&&!y.sp&&(y.sp=[]),y&&!y._nuxtOnBeforeMountCbs){y._nuxtOnBeforeMountCbs=[];const h=y._nuxtOnBeforeMountCbs;J(()=>{h.forEach(l=>{l()}),h.splice(0,h.length)}),Q(()=>h.splice(0,h.length))}const B=y&&(y._nuxtClientOnly||X(he,!1));u&&r.isHydrating&&(f.error.value||f.data.value!=null)?(f.pending.value=!1,f.status.value=f.error.value?"error":"success"):y&&(!B&&r.payload.serverRendered&&r.isHydrating||s.lazy)&&s.immediate?y._nuxtOnBeforeMountCbs.push(_):s.immediate&&_();const O=ae(),P=z([i,...s.watch||[]],([h],[l])=>{var w,v;if((h||l)&&h!==l){const M=((w=r._asyncData[l])==null?void 0:w.data.value)!==b.value,F=r._asyncDataPromises[l]!==void 0;l&&o(l);const E={cause:"initial",dedupe:s.dedupe};(v=r._asyncData[h])!=null&&v._init||(E.cachedData=s.getCachedData(h,r,{cause:"initial"}),r._asyncData[h]=N(r,h,t,s,E.cachedData)),r._asyncData[h]._deps++,(s.immediate||M||F)&&r._asyncData[h].execute(E)}else f._execute({cause:"watch",dedupe:s.dedupe})},{flush:"sync"});O&&Y(()=>{P(),o(i.value)})}const D={data:S(()=>{var o;return(o=r._asyncData[i.value])==null?void 0:o.data}),pending:S(()=>{var o;return(o=r._asyncData[i.value])==null?void 0:o.pending}),status:S(()=>{var o;return(o=r._asyncData[i.value])==null?void 0:o.status}),error:S(()=>{var o;return(o=r._asyncData[i.value])==null?void 0:o.error}),refresh:(...o)=>r._asyncData[i.value].execute(...o),execute:(...o)=>r._asyncData[i.value].execute(...o),clear:()=>L(r,i.value)},c=Promise.resolve(r._asyncDataPromises[i.value]).then(()=>D);return Object.assign(c,D),c}function S(a){return T({get(){var e;return(e=a())==null?void 0:e.value},set(e){const n=a();n&&(n.value=e)}})}function me(a,e){return!(typeof a=="string"||typeof a=="object"&&a!==null||typeof a=="function"&&typeof e=="function")}async function Be(a){await new Promise(n=>W(n));const e=de(a);await q().hooks.callHookParallel("app:data:refresh",e)}function L(a,e){e in a.payload.data&&(a.payload.data[e]=void 0),e in a.payload._errors&&(a.payload._errors[e]=b.errorValue),a._asyncData[e]&&(a._asyncData[e].data.value=void 0,a._asyncData[e].error.value=b.errorValue,a._asyncData[e].pending.value=!1,a._asyncData[e].status.value="idle"),e in a._asyncDataPromises&&(a._asyncDataPromises[e]&&(a._asyncDataPromises[e].cancelled=!0),a._asyncDataPromises[e]=void 0)}function De(a,e){const n={};for(const t of e)n[t]=a[t];return n}function N(a,e,n,t,s){var D;(D=a.payload._errors)[e]??(D[e]=b.errorValue);const i=t.getCachedData!==H,r=n,d=t.deep?Z:U,f=s!=null,_=a.hook("app:data:refresh",async c=>{(!c||c.includes(e))&&await u.execute({cause:"refresh:hook"})}),u={data:d(f?s:t.default()),pending:U(!f),error:K(a.payload._errors,e),status:U("idle"),execute:(c={})=>{if(a._asyncDataPromises[e]){if(ye(c.dedupe??t.dedupe))return a._asyncDataPromises[e];a._asyncDataPromises[e].cancelled=!0}if(c.cause==="initial"||a.isHydrating){const o="cachedData"in c?c.cachedData:t.getCachedData(e,a,{cause:c.cause??"refresh:manual"});if(o!=null)return a.payload.data[e]=u.data.value=o,u.error.value=b.errorValue,u.status.value="success",Promise.resolve(o)}u.pending.value=!0,u.status.value="pending";const m=new Promise((o,y)=>{try{o(r(a))}catch(B){y(B)}}).then(async o=>{if(m.cancelled)return a._asyncDataPromises[e];let y=o;t.transform&&(y=await t.transform(o)),t.pick&&(y=De(y,t.pick)),a.payload.data[e]=y,u.data.value=y,u.error.value=b.errorValue,u.status.value="success"}).catch(o=>{if(m.cancelled)return a._asyncDataPromises[e];u.error.value=k(o),u.data.value=ee(t.default()),u.status.value="error"}).finally(()=>{m.cancelled||(u.pending.value=!1,delete a._asyncDataPromises[e])});return a._asyncDataPromises[e]=m,a._asyncDataPromises[e]},_execute:re((...c)=>u.execute(...c),0,{leading:!0}),_default:t.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{var c;_(),(c=a._asyncData[e])!=null&&c._init&&(a._asyncData[e]._init=!1),i||A(()=>{var m;(m=a._asyncData[e])!=null&&m._init||(L(a,e),u.execute=()=>Promise.resolve(),u.data.value=b.value)})}};return u}const ve=()=>b.value,H=(a,e,n)=>{if(e.isHydrating)return e.payload.data[a];if(n.cause!=="refresh:manual"&&n.cause!=="refresh:hook")return e.static.data[a]};function Pe(a,e,n){const[t={},s]=typeof e=="string"?[{},e]:[e,n],i=T(()=>g(a)),r=T(()=>g(t.key)||"$f"+R([s,typeof i.value=="string"?i.value:"",...ge(t)]));if(!t.baseURL&&typeof i.value=="string"&&i.value[0]==="/"&&i.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:d,lazy:f,default:_,transform:u,pick:D,watch:c,immediate:m,getCachedData:o,deep:y,dedupe:B,...O}=t,P=V({...te,...O,cache:typeof t.cache=="boolean"?void 0:t.cache}),h={server:d,lazy:f,default:_,transform:u,pick:D,immediate:m,getCachedData:o,deep:y,dedupe:B,watch:c===!1?[]:[...c||[],P]};if(!m){let v=function(){h.immediate=!0};z(r,v,{flush:"sync",once:!0}),z([...c||[],P],v,{flush:"sync",once:!0})}let l;return _e(c===!1?r.value:r,()=>{var E;(E=l==null?void 0:l.abort)==null||E.call(l,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),l=typeof AbortController<"u"?new AbortController:{};const v=g(t.timeout);let M;return v&&(M=setTimeout(()=>l.abort(new DOMException("Request aborted due to timeout.","AbortError")),v),l.signal.onabort=()=>clearTimeout(M)),(t.$fetch||globalThis.$fetch)(i.value,{signal:l.signal,...P}).finally(()=>{clearTimeout(M)})},h)}function ge(a){var n;const e=[((n=g(a.method))==null?void 0:n.toUpperCase())||"GET",g(a.baseURL)];for(const t of[a.params||a.query]){const s=g(t);if(!s)continue;const i={};for(const[r,d]of Object.entries(s))i[g(r)]=g(d);e.push(i)}if(a.body){const t=g(a.body);if(!t)e.push(R(t));else if(t instanceof ArrayBuffer)e.push(R(Object.fromEntries([...new Uint8Array(t).entries()].map(([s,i])=>[s,i.toString()]))));else if(t instanceof FormData){const s={};for(const i of t.entries()){const[r,d]=i;s[r]=d instanceof File?d.name:d}e.push(R(s))}else if(se(t))e.push(R(V(t)));else try{e.push(R(t))}catch{console.warn("[useFetch] Failed to hash body",t)}}return e}export{Be as r,Pe as u};
