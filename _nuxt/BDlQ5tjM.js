import{_ as V}from"./qM6GPxy6.js";import{_ as k}from"./CZMu9bNE.js";import{_ as F}from"./Q__ozNUn.js";import{E as N,r as C,K as L,G as j,H as B,c as E,o as $,a as e,L as z,b as a,t as r,C as s,S as M,w as f,T,d as A}from"./B0kbPVzu.js";import{_ as D}from"./BFLBms6F.js";import{c as I,u as R,F as q,E as G}from"./Bjc_YOAs.js";import{u as H}from"./9CVWbL2z.js";import{u as K}from"./B0CQLlvh.js";import"./BLXiSgHD.js";import"./D_GyIbDE.js";const U=["dir"],J={class:"w-full md:w-[50%] relative flex flex-col items-center justify-center p-6 md:p-12 z-10 overflow-y-auto"},O={class:"mt-12 md:mt-16 w-full text-center mb-10"},Q={class:"flex items-center justify-between"},W={class:"text-3xl font-bold text-brand-textDark mb-2 flex"},X={class:"text-gray-500 text-sm font-medium flex"},Y={class:"space-y-2"},Z={class:"text-sm text-gray-600 font-bold flex px-1"},ee=["disabled"],te={class:"flex flex-col items-center space-y-6 pt-6"},fe={__name:"index",setup(se){const{t:o,locale:p}=N(),l=C(!1),h=L(),c=j(),_=B(),i=K(),{phoneNumber:x}=H(),g=I({phone:x}),{handleSubmit:b,setFieldValue:w}=R({validationSchema:g,initialValues:{phone:""}}),u=b(async d=>{l.value=!0;try{const t=await h.forgotPasswordSendCode(d.phone);t.success?(i.success(t.message||o("auth.forgotPassword.success")),_.push({path:c("/auth/forgot-password/verify"),query:{phone:d.phone}})):i.error(t.error||o("auth.forgotPassword.errors.sendFailed"))}catch{i.error(o("auth.forgotPassword.errors.sendFailed"))}finally{l.value=!1}});return(d,t)=>{const v=V,y=k,P=F;return $(),E("div",{class:"h-screen w-full flex flex-col md:flex-row",dir:s(p)==="ar"?"rtl":"ltr"},[t[3]||(t[3]=e("div",{class:"hidden h-screen md:flex flex-1 radial-gradient-subtle items-center justify-center p-12 relative overflow-hidden"},[e("div",{class:"text-center z-10"},[e("img",{src:z,alt:"logo",class:"w-56 h-48 mx-auto"})])],-1)),e("div",J,[e("div",O,[t[2]||(t[2]=e("div",{class:"hidden md:flex justify-center mb-8"},[e("img",{src:D,alt:"logo",class:"w-24 h-20"})],-1)),e("div",Q,[e("div",null,[e("h2",W,r(s(o)("auth.forgotPassword.title")),1),e("p",X,r(s(o)("auth.forgotPassword.subtitle")),1)]),a(v,{variant:"auth",size:"sm"})])]),e("form",{class:"w-full space-y-5",onSubmit:t[1]||(t[1]=M((...n)=>s(u)&&s(u)(...n),["prevent"]))},[e("div",Y,[e("label",Z,r(s(o)("auth.login.mobileNumber")),1),a(s(q),{name:"phone"},{default:f(({field:n,meta:m})=>[a(y,T(n,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=S=>s(w)("phone",S)),class:[m.touched&&m.invalid&&"ring-2 ring-red-500/50"]}),null,16,["modelValue","class"])]),_:1}),a(s(G),{name:"phone",class:"text-red-500 text-xs px-1 block text-right"})]),e("button",{type:"submit",disabled:l.value,class:"w-full !py-4 back-btn transition transform hover:-translate-y-1 mt-4 disabled:opacity-50 disabled:cursor-not-allowed"},r(l.value?s(o)("common.loading"):s(o)("auth.forgotPassword.sendCode")),9,ee),e("div",te,[a(P,{to:s(c)("/auth/login"),class:"text-[#A6431F] font-bold hover:underline"},{default:f(()=>[A(r(s(o)("common.back")),1)]),_:1},8,["to"])])],32)])],8,U)}}};export{fe as default};
