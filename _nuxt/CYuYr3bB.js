import{_ as ue}from"./Dc7npR_-.js";import{_ as me}from"./DyOut0G8.js";import{_ as he}from"./BIzi2wWj.js";import{D as pe}from"./F7F_unFo.js";import{E as Ae,r as h,K as ge,G as fe,H as we,W as ve,k as xe,u as be,c as n,a as e,b as C,L as ye,C as t,t as o,S as Y,J as p,O as g,M as u,X as M,T as f,Y as A,Z as _e,F as Ce,B as Be,P as ke,$ as Ve,d as F,w as H,o as d}from"./BYEf0NBg.js";import{_ as Ee}from"./BFLBms6F.js";import{l as N}from"./BgH2Av2K.js";import{e as X,a as G}from"./f__Oa2D6.js";import{c as Re,a as Ue,b as w,d as Ie,u as qe}from"./CbWQZxt2.js";import{b as O}from"./Csww0FSG.js";import{u as je}from"./SR-Rvwwp.js";import"./7fziSG_W.js";import"./cSiaAbyi.js";import"./WbP1RNmY.js";const Se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHsSURBVHgBtVU7bsJAELVxBK2P4JwglJEocG5AToBzgjgSvy52x0+KuUE4QcgJYgqU1rmB23Qu+QjIe846cswaHKSMZGZ3dvfN7MzbQVVyxLZtvVwu36uqamFq4Ivw+Zg/9Pv9MO+cJjP2ej1D07R3HG5gGuz3+yn0J+bX0E6tVlMWi8VcdvZCZgTAI5QOgBtE42ei9mB34HSeXkuklDW02+0qlAVQN3vA87xovV7bGEbCqXISEN7NeKFUmskOEBSKKagWAoTo/DmWeEQXJftOAmJzSI0cmUqO4BZ1qKAQ4Gaz4VVzc9RqtUwoU1T+0JnM2Ol0bETxhKG/3W7d8Xjsp3gZF2UwGFwWBqTgypaI0sgskdx3eTnOBaSIqEzlu6IRKh/IuPevIo2QiUc0dcFJRpdQhJUNd7vd62g0ej4JyFcCIBbDFCYf34fgHelyJRwYBIZ9MhwOvQNA5qpSqbAAcQVxcLJcLj3xKg6EHEWUFvY1CSyK5MeA7Czw9Ca8TlarlZMHJAH+YQK0g2hdtdvtvvCK8HJ7TgVTHajJ7sSX0mAuzqVDqgMpSINJQBK1yasrZwpfkBgG6Rzq0B6qPD3WadJCeqGzM4dMGfunE1eZoAjXEVX7q7CRuAl9fvFQAPN/RC+ChNuEoNcszYovduv2G/9CzAAAAAAASUVORK5CYII=",Me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHKSURBVHgB5VXJccJAEFwJCvhZIYgIDBngCEwGFhFYD66f7R/Hw3IEQAYQAcoAQlAGxk+qONwtVi5p0WFh86Krtvaae2dmhbgytCyCdrvdKBQKT1iaCSSbw+GwGI/H09wKOp2Opev6hEIw1glkJoemaQ+DwcBVL4siBRD+iMkbDofVNLper/d5PB7ppXsmQ6TDoAKRDXpnxl0URQ7A0mdMTa5h8WI0GjlZPFkeRAChmUmhIpcH0uJMqy9WcOMhCrk/R95//IbZtm2jVCqRr4bh9ft9E8XmhWn8ELFiaRlCwLx35D4VbCHlcnmFCn4Fn0clmJfgrZ0pQMWyCj2EoA6iNfbNNOH0Fv1pyTVbBPkwV6WsVbfbfYkoEKdes5EM9OIuSXjgLehm2+22HvQfhoZ7GDijV1Bi87wohS5wMYFlK3FqXG9JCqS3LgRa6p3jODTSgvB7yGjwSJfap5j4sDUKl/uLARlU5Efhpw72+/1cLl3xj8hVaJcgV6HFgbmP93vHA7fkG0TwZw92u52JqVmpVML5z7MvLvzeIqvYEqeK5OcRWBIwhb9L9cxQ+Lg28NAtJosfIjYx+fKuiCLuH1bPVL45ayTuf74KvgHKgLzN/uCsHwAAAABJRU5ErkJggg==",Fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHiSURBVHgB3VVLUsJAEJ0EgaXxBnMDPUI4gd7AeAJiFb8dyY7PwrkB4QZ6AuIN5ASOJzDugOLja+ykIlRACVqlXTX1OpmZ97p7Mh0h/roZWROu60rCYrForVYrK2vdfD7XhEopvVegXq87pmlew7XFYRYul8thv98PtgQajUbbMAyPFmGM4T/Re2yIIBrtIJW8TmIPBSeRsdfr9fxEoNVq0ctnuEG3270ROazZbCpAdTqdnqFskcnqVzxvIxNXHGhUBQBlIUqlkkN4wnMXGBGyeESad4iiClE/XctdVqvV7EKhMBAf5QqJDzznNLfOAA+nAI26OfDXJULdBxAaUfl2EdMakI8oQOytoMQV8uM1cQZW/LLT6QSAAMQOMmrT2YAkwGYfc5rW8JlRORzO/BbBqZS25mwSgS0jIRCF2ExnUgU6EAopGPgXHLE/mUwUHWYWT6YAi2iACyFFHwIILyk64MM+4i8JbAgpHt8yU/yw/Y4ADu1F8Kkfw7g5viUCxzZ8BBLwmhagxibRoi2R0/hi0qc8TgRms1lAWC6X2yKn8QWkTnBPaKSUPZ7UwCGG5g06iwwkyc8IPvUeuoA233rvkwCLUHvI9cMB+ZDbjdgS2BCT7MqsNYvFIkKji3uYFv/S3gFfvu41jIflqAAAAABJRU5ErkJggg==",De=["dir"],Qe={class:"w-full min-h-screen md:w-[50%] relative flex flex-col items-center justify-center p-6 md:p-12 z-10 overflow-y-auto"},Je={class:"w-full text-center mb-10"},Le={class:"hidden md:flex justify-center mb-8"},Pe=["src"],Te={class:"flex items-center justify-between"},Ke={class:"text-3xl font-bold text-brand-textDark mb-2 flex"},Ye={class:"text-gray-500 text-sm font-medium flex"},He={class:"space-y-2"},Ne={class:"text-sm text-gray-600 font-bold flex px-1"},Xe={class:"relative"},Ge=["src"],Oe=["placeholder"],$e={key:0,class:"text-red-500 text-xs px-1"},ze={class:"space-y-2"},We={class:"text-sm text-gray-600 font-bold flex px-1"},Ze={key:0,class:"text-red-500 text-xs px-1"},et={class:"space-y-2"},tt={class:"text-sm text-gray-600 font-bold flex px-1"},st={class:"relative"},rt=["src"],ot={disabled:"",value:""},at=["value"],lt={key:0,class:"text-red-500 text-xs px-1"},it={class:"space-y-2"},nt={class:"text-sm text-gray-600 font-bold flex px-1"},dt={class:"relative"},ct=["src"],ut=["placeholder"],mt={key:0,class:"text-red-500 text-xs px-1"},ht={class:"space-y-2"},pt={class:"text-sm text-gray-600 font-bold flex px-1"},At={class:"relative"},gt=["src"],ft=["type","placeholder"],wt=["src"],vt=["src"],xt={key:0,class:"text-red-500 text-xs px-1"},bt={class:"space-y-2"},yt={class:"text-sm text-gray-600 font-bold flex px-1"},_t={class:"relative"},Ct=["src"],Bt=["type","placeholder"],kt=["src"],Vt=["src"],Et={key:0,class:"text-red-500 text-xs px-1"},Rt={class:"flex flex-col gap-1 pt-1"},Ut={class:"flex items-center gap-2"},It={class:"text-sm font-bold cursor-pointer text-gray-600"},qt={key:0,class:"text-red-500 text-xs px-1"},jt=["disabled"],St={class:"flex flex-col items-center space-y-6 pt-6"},Mt={class:"text-sm text-gray-600 font-medium"},Ft={class:"p-4 overflow-y-auto max-h-[80vh]"},Dt={class:"text-xl font-bold mb-4 text-brand-primary"},Qt={key:0,class:"flex items-center justify-center p-8 text-gray-500"},Jt=["innerHTML"],ts={__name:"register",async setup(Lt){var K;let x,D;const{locale:c,t:i}=Ae(),b=h(!1),y=h(!1),_=h(!1),Q=h([]),B=h(!1),k=h(""),V=h(!1),J=ge(),L=fe(),$=we(),v=je(),z=Re({username:w().required(i("auth.register.errors.usernameRequired")).min(3,i("auth.register.errors.usernameShort")),phone:w().required(i("auth.register.errors.phoneRequired")).min(9,i("auth.register.errors.phoneShort")),city:w().required(i("auth.register.errors.cityRequired")),email:w().email(i("auth.register.errors.invalidEmail")).required(i("auth.register.errors.emailRequired")),password:w().required(i("auth.register.errors.passwordRequired")).min(6,i("auth.register.errors.passwordTooShort")),confirmPassword:w().required(i("auth.register.errors.confirmPasswordRequired")).oneOf([Ie("password")],i("auth.register.errors.passwordsNotMatch")),terms:Ue().required(i("auth.register.errors.termsRequired")).oneOf([!0],i("auth.register.errors.termsRequired"))}),{errors:l,defineField:m,handleSubmit:W}=qe({validationSchema:z,initialValues:{username:"",phone:"",city:"",email:"",password:"",confirmPassword:"",terms:!1}}),[E,Z]=m("username"),[R]=m("phone"),[U,ee]=m("city"),[I,te]=m("email"),[q,se]=m("password"),[j,re]=m("confirmPassword"),[S,oe]=m("terms"),{data:P}=([x,D]=ve(()=>O("/cities",{auth:!1})),x=await x,D(),x);(K=P.value)!=null&&K.data&&(Q.value=P.value.data.map(r=>({value:r.id,label:r.name}))),xe(()=>{J.initAuth()});const ae=r=>{console.log("Country changed:",r)};be({title:i("auth.register.title")});const le=async()=>{if(B.value=!0,!k.value){V.value=!0;try{const{data:r,error:s}=await O("/terms",{auth:!1});r.value&&r.value.key==="success"?k.value=r.value.data:v.error(i("error_fetching_terms"))}catch(r){console.error(r),v.error(i("error_fetching_terms"))}finally{V.value=!1}}},T=W(async r=>{_.value=!0;try{const s=await J.register(r);s.success?(v.success(s.message||i("auth.register.success")),await $.push({path:L("/auth/otp"),query:{phone:r.phone}})):v.error(s.error||i("auth.register.errors.registrationFailed"))}catch(s){console.error("Registration error:",s),v.error(i("auth.register.errors.registrationError"))}finally{_.value=!1}});return(r,s)=>{const ie=ue,ne=me,de=he,ce=pe;return d(),n("div",{class:"w-full flex flex-col md:flex-row",dir:t(c)==="ar"?"rtl":"ltr"},[s[15]||(s[15]=e("div",{class:"hidden h-screen md:flex flex-1 radial-gradient-subtle items-center justify-center p-12 relative overflow-hidden sticky top-0"},[e("div",{class:"text-center z-10"},[e("img",{src:ye,alt:"logo",class:"w-56 h-48 mx-auto"})])],-1)),e("div",Qe,[s[13]||(s[13]=e("div",{class:"absolute top-0 left-0"},null,-1)),s[14]||(s[14]=e("div",{class:"mb-8 md:hidden"},[e("svg",{viewBox:"0 0 114 97",class:"w-24 h-20"})],-1)),e("div",Je,[e("div",Le,[e("img",{src:t(Ee),alt:"logo",class:"w-24 h-20 object-contain"},null,8,Pe)]),e("div",Te,[e("div",null,[e("h2",Ke,o(r.$t("auth.register.title")),1),e("p",Ye,o(r.$t("auth.register.subtitle")),1)]),C(ie,{variant:"auth",size:"sm"})])]),e("form",{class:"w-full space-y-5",onSubmit:s[10]||(s[10]=Y(()=>{},["prevent"]))},[e("div",He,[e("label",Ne,o(r.$t("auth.register.username")),1),e("div",Xe,[e("div",{class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500 pointer-events-none",t(c)==="ar"?"right-0":"left-0"])},[e("img",{src:t(Se),alt:"profile",class:"w-5 h-5 object-contain"},null,8,Ge)],2),g(e("input",f({"onUpdate:modelValue":s[0]||(s[0]=a=>A(E)?E.value=a:null)},t(Z),{placeholder:r.$t("auth.register.usernamePlaceholder"),class:["w-full bg-[#E9DCD6]/80 border border-white rounded-xl px-4 py-4 font-bold focus:outline-none focus:ring-2 focus:ring-[#A6431F]/30 shadow-sm flex",[t(c)==="ar"?"pr-12 pl-4 text-right":"pl-12 pr-4 text-left",t(l).username?"border-red-500":"border-white"]]}),null,16,Oe),[[M,t(E)]])]),t(l).username?(d(),n("span",$e,o(t(l).username),1)):p("",!0)]),e("div",ze,[e("label",We,o(r.$t("auth.register.mobileNumber")),1),C(ne,{modelValue:t(R),"onUpdate:modelValue":s[1]||(s[1]=a=>A(R)?R.value=a:null),onCountryChanged:ae,class:u(t(l).phone?"border-red-500":"")},null,8,["modelValue","class"]),t(l).phone?(d(),n("span",Ze,o(t(l).phone),1)):p("",!0)]),e("div",et,[e("label",tt,o(r.$t("auth.register.city")),1),e("div",st,[e("div",{class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500 pointer-events-none",t(c)==="ar"?"right-0":"left-0"])},[e("img",{src:t(Me),alt:"city",class:"w-5 h-5 object-contain"},null,8,rt)],2),g(e("select",f({"onUpdate:modelValue":s[2]||(s[2]=a=>A(U)?U.value=a:null)},t(ee),{class:["w-full bg-[#E9DCD6]/80 border border-white rounded-xl px-4 py-4 font-bold focus:outline-none focus:ring-2 focus:ring-[#A6431F]/30 shadow-sm flex appearance-none",[t(c)==="ar"?"pr-12 pl-4 text-right":"pl-12 pr-4 text-left",t(l).city?"border-red-500":"border-white"]]}),[e("option",ot,o(r.$t("auth.register.cityPlaceholder")),1),(d(!0),n(Ce,null,Be(Q.value,a=>(d(),n("option",{key:a.value,value:a.value},o(a.label),9,at))),128))],16),[[_e,t(U)]]),e("div",{class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500 pointer-events-none",t(c)==="ar"?"left-0":"right-0"])},s[12]||(s[12]=[e("svg",{width:"20",height:"20",stroke:"currentColor",fill:"none","stroke-width":"2"},[e("path",{d:"m6 9 6 6 6-6"})],-1)]),2)]),t(l).city?(d(),n("span",lt,o(t(l).city),1)):p("",!0)]),e("div",it,[e("label",nt,o(r.$t("auth.register.email")),1),e("div",dt,[e("div",{class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500 pointer-events-none",t(c)==="ar"?"right-0":"left-0"])},[e("img",{src:t(Fe),alt:"email",class:"w-5 h-5 object-contain"},null,8,ct)],2),g(e("input",f({"onUpdate:modelValue":s[3]||(s[3]=a=>A(I)?I.value=a:null)},t(te),{type:"email",placeholder:r.$t("auth.register.emailPlaceholder"),class:["w-full bg-[#E9DCD6]/80 border border-white rounded-xl px-4 py-4 font-bold focus:outline-none focus:ring-2 focus:ring-[#A6431F]/30 shadow-sm flex",[t(c)==="ar"?"pr-12 pl-4 text-right":"pl-12 pr-4 text-left",t(l).email?"border-red-500":"border-white"]]}),null,16,ut),[[ke,t(I)]])]),t(l).email?(d(),n("span",mt,o(t(l).email),1)):p("",!0)]),e("div",ht,[e("label",pt,o(r.$t("auth.register.password")),1),e("div",At,[e("div",{class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500 pointer-events-none",t(c)==="ar"?"right-0":"left-0"])},[e("img",{src:t(N),alt:"lock",class:"w-5 h-5 object-contain"},null,8,gt)],2),g(e("input",f({type:b.value?"text":"password","onUpdate:modelValue":s[4]||(s[4]=a=>A(q)?q.value=a:null)},t(se),{placeholder:r.$t("auth.register.passwordPlaceholder"),class:["w-full bg-[#E9DCD6]/80 border border-white rounded-xl px-4 py-4 pr-12 pl-12 font-bold focus:outline-none focus:ring-2 focus:ring-[#A6431F]/30 shadow-sm",[t(c)==="ar"?"text-right":"text-left",t(l).password?"border-red-500":"border-white"]]}),null,16,ft),[[M,t(q)]]),e("button",{type:"button",onClick:s[5]||(s[5]=a=>b.value=!b.value),class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500",t(c)==="ar"?"left-0":"right-0"])},[b.value?(d(),n("img",{key:0,src:t(X),alt:"hide password",class:"w-5 h-5 object-contain"},null,8,wt)):(d(),n("img",{key:1,src:t(G),alt:"show password",class:"w-5 h-5 object-contain"},null,8,vt))],2)]),t(l).password?(d(),n("span",xt,o(t(l).password),1)):p("",!0)]),e("div",bt,[e("label",yt,o(r.$t("auth.register.confirmPassword")),1),e("div",_t,[e("div",{class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500 pointer-events-none",t(c)==="ar"?"right-0":"left-0"])},[e("img",{src:t(N),alt:"lock",class:"w-5 h-5 object-contain"},null,8,Ct)],2),g(e("input",f({type:y.value?"text":"password","onUpdate:modelValue":s[6]||(s[6]=a=>A(j)?j.value=a:null)},t(re),{placeholder:r.$t("auth.register.confirmPasswordPlaceholder"),class:["w-full bg-[#E9DCD6]/80 border border-white rounded-xl px-4 py-4 pr-12 pl-12 font-bold focus:outline-none focus:ring-2 focus:ring-[#A6431F]/30 shadow-sm",[t(c)==="ar"?"text-right":"text-left",t(l).confirmPassword?"border-red-500":"border-white"]]}),null,16,Bt),[[M,t(j)]]),e("button",{type:"button",onClick:s[7]||(s[7]=a=>y.value=!y.value),class:u(["absolute top-0 bottom-0 w-12 flex items-center justify-center text-gray-500",t(c)==="ar"?"left-0":"right-0"])},[y.value?(d(),n("img",{key:0,src:t(X),alt:"hide password",class:"w-5 h-5 object-contain"},null,8,kt)):(d(),n("img",{key:1,src:t(G),alt:"show password",class:"w-5 h-5 object-contain"},null,8,Vt))],2)]),t(l).confirmPassword?(d(),n("span",Et,o(t(l).confirmPassword),1)):p("",!0)]),e("div",Rt,[e("div",Ut,[g(e("input",f({type:"checkbox","onUpdate:modelValue":s[8]||(s[8]=a=>A(S)?S.value=a:null)},t(oe),{class:"w-5 h-5 accent-[#A6431F]"}),null,16),[[Ve,t(S)]]),e("label",It,[F(o(r.$t("auth.register.terms"))+" ",1),e("span",{class:"underline text-[#A6431F]",onClick:Y(le,["prevent"])},o(r.$t("auth.register.termsLink")),1)])]),t(l).terms?(d(),n("span",qt,o(t(l).terms),1)):p("",!0)]),e("button",{type:"submit",onClick:s[9]||(s[9]=(...a)=>t(T)&&t(T)(...a)),disabled:_.value,class:"w-full back-btn transition transform hover:-translate-y-1 mt-4 disabled:opacity-50 disabled:cursor-not-allowed"},o(_.value?r.$t("auth.register.registering"):r.$t("auth.register.button")),9,jt),e("div",St,[e("div",Mt,[F(o(r.$t("auth.register.haveAccount"))+" ",1),C(de,{to:t(L)("/auth/login"),class:"text-[#A6431F] font-bold hover:underline"},{default:H(()=>[F(o(r.$t("auth.register.loginLink")),1)]),_:1},8,["to"])])])],32)]),C(ce,{visible:B.value,onClose:s[11]||(s[11]=a=>B.value=!1),width:"600px"},{default:H(()=>[e("div",Ft,[e("h3",Dt,o(r.$t("auth.register.termsLink")),1),V.value?(d(),n("div",Qt,o(r.$t("loading"))+"... ",1)):(d(),n("div",{key:1,class:"text-gray-700 whitespace-pre-wrap leading-relaxed text-right rtl:text-right ltr:text-left",innerHTML:k.value},null,8,Jt))])]),_:1},8,["visible"])],8,De)}}};export{ts as default};
