import{_ as _e}from"./CnFysPOj.js";import{_ as ge,N as xe,W as we,g as ae,r as u,H as ke,G as $e,c as i,o as n,a as e,b as m,C as t,t as r,J as d,M as F,F as b,B as g,w as D,S as I,a2 as N,P as Ce,Q as je,Y as De,d as Me,A as Ee,V as Pe}from"./CfVQ7UYt.js";import{_ as re}from"./e2BhSMQC.js";import{b as f}from"./DCGxFebN.js";import{_ as Fe}from"./j2TnU8dc.js";import{C as R}from"./CJ0lsQ-3.js";import{M as le}from"./Biop4szc.js";import{S as Ie}from"./BOocA97X.js";import{W as S,L as Ne,B as Oe}from"./Dt_tsdAc.js";import{C as Te}from"./CI6qFKqo.js";import"./BqimD7Il.js";import"./CNZ5aXak.js";import"./CdZn6wq7.js";const Ae={class:"min-h-screen pb-24 font-sans text-right relative"},Be={key:0,class:"flex items-center justify-center min-h-[60vh]"},Re={key:1,class:"max-w-7xl mx-auto px-4 py-12 flex flex-col items-center text-center"},Se={class:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mb-4"},Ve={class:"text-xl font-bold text-gray-800 mb-2"},ze={class:"text-gray-500 mb-6"},Le={key:2,class:"pt-8 px-4 md:px-8 max-w-7xl mx-auto"},We={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-24"},Ue={class:"space-y-6"},qe={class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},Ge={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},He={class:"text-gray-800 font-bold text-lg"},Je={class:"space-y-3"},Qe={class:"flex justify-between items-center"},Xe={class:"text-gray-500 text-sm font-medium"},Ye={class:"text-gray-800 font-bold font-mono"},Ke={class:"flex justify-between items-center"},Ze={class:"text-gray-500 text-sm font-medium"},et={class:"flex justify-between items-center"},tt={class:"text-gray-500 text-sm font-medium"},st={class:"text-gray-800 font-bold"},ot={key:0,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},at={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},rt={class:"text-gray-800 font-bold text-lg"},lt={class:"space-y-3"},nt={class:"flex justify-between items-center"},it={class:"text-gray-500 text-sm font-medium"},dt={class:"text-gray-800 font-bold"},ct={class:"flex justify-between items-center"},ut={class:"text-gray-500 text-sm font-medium"},mt={class:"text-gray-800 font-bold"},bt={class:"flex justify-between items-center"},ft={class:"text-gray-500 text-sm font-medium"},pt={class:"text-gray-800 font-bold font-mono"},ht={key:0,class:"flex justify-between items-start"},vt={class:"text-gray-500 text-sm font-medium"},yt={class:"flex items-center gap-1 text-primary-600 font-bold"},_t={key:0,class:"flex justify-between items-center"},gt={class:"text-gray-500 text-sm font-medium"},xt={class:"text-gray-800 font-bold font-mono"},wt={key:1,class:"flex justify-between items-center"},kt={class:"text-gray-500 text-sm font-medium"},$t={class:"text-gray-800 font-bold"},Ct={key:2,class:"flex justify-between items-center"},jt={class:"text-gray-500 text-sm font-medium"},Dt={class:"text-gray-800 font-bold"},Mt={key:3,class:"flex justify-between items-start"},Et={class:"text-gray-500 text-sm font-medium"},Pt={class:"flex items-center gap-1 text-primary-600 font-bold"},Ft={key:1,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},It={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},Nt={class:"text-gray-800 font-bold text-lg"},Ot={class:"text-gray-600 text-sm leading-relaxed"},Tt={class:"space-y-6"},At=["src"],Bt={key:0,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},Rt={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},St={class:"text-gray-800 font-bold text-lg"},Vt={class:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide"},zt=["onClick"],Lt=["src","alt"],Wt={key:1,class:"space-y-4"},Ut={class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},qt={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},Gt={class:"text-gray-800 font-bold text-lg"},Ht={class:"flex items-center justify-between"},Jt={class:"flex items-center gap-3"},Qt={class:"w-12 h-12 rounded-full overflow-hidden border-2 border-white shadow-md"},Xt=["src","alt"],Yt={class:"font-bold text-gray-800 text-sm"},Kt={class:"flex text-yellow-400 text-xs mt-0.5"},Zt={key:0,class:"space-y-4"},es={class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},ts={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},ss={class:"text-gray-800 font-bold text-lg"},os={class:"space-y-4"},as={class:"flex items-start justify-between mb-4"},rs={class:"flex items-center gap-3"},ls={class:"w-12 h-12 rounded-full overflow-hidden border border-gray-200 bg-gray-50"},ns=["src","alt"],is={class:"font-bold text-gray-800 text-sm"},ds={class:"text-xs text-gray-500 mt-1 line-clamp-1"},cs={class:"text-left"},us={class:"flex items-baseline gap-1 text-primary-600 font-bold text-lg"},ms={class:"text-[#A6431F]"},bs={class:"text-xs text-gray-400 mt-1"},fs={class:"flex gap-3"},ps=["onClick"],hs=["onClick"],vs={class:"mt-3 text-center"},ys={class:"text-xs text-gray-500 hover:text-primary-600 underline"},_s={key:1,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6 text-center py-12"},gs={class:"text-gray-500 font-medium"},xs={key:1,class:"pointer-events-none"},ws={class:"max-w-md mx-auto px-4 pointer-events-auto space-y-3"},ks={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},$s={key:1},Cs={key:3},js={class:"w-full bg-[#bf4e26]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#bf4e26] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20"},Ds=["src"],Ms={class:"text-center text-gray-800 font-bold text-lg mb-6"},Es={class:"flex justify-center gap-2 mb-8",dir:"ltr"},Ps=["onClick"],Fs={class:"mb-6"},Is={class:"block text-right text-gray-600 mb-2 text-sm"},Ns=["placeholder"],Os=["disabled"],Ts={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},As={class:"text-center text-gray-900 font-bold text-lg mb-2 border-b border-white/10 pb-4"},Bs={class:"flex flex-col items-center justify-center py-6"},Rs={class:"mb-2"},Ss={class:"text-[#bf4e26] font-bold text-2xl dir-rtl"},Vs={class:"space-y-3 mb-6"},zs=["onClick"],Ls={class:"flex items-center gap-3"},Ws={class:"w-5 h-5 rounded-full border border-gray-400 flex items-center justify-center p-0.5"},Us={key:0,class:"w-full h-full bg-[#bf4e26] rounded-full"},qs={class:"font-medium text-gray-800"},Gs=["disabled"],Hs={class:"text-center text-gray-800 font-bold text-lg mb-6"},Js={class:"space-y-3 mb-8"},Qs=["onClick"],Xs={class:"w-5 h-5 rounded-full border border-gray-300 flex items-center justify-center p-0.5"},Ys={key:0,class:"w-full h-full bg-red-500 rounded-full"},Ks={class:"font-medium text-gray-700 text-right flex-1 mr-4"},Zs={class:"flex flex-col gap-3"},eo=["disabled"],to={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},so={__name:"[id]",async setup(oo){let M,V;const x=xe().params.id,{data:ne,pending:ie,error:z,refresh:p}=([M,V]=we(()=>f(`/orders/maintenance-details/${x}`,{key:`maintenance-order-${x}`})),M=await M,V(),M),a=ae(()=>{var o;return((o=ne.value)==null?void 0:o.data)||null}),de=o=>"text-green-600",h=u(null),E=u(!1),v=u(0),w=u(""),y=u(!1),O=u(!1),P=u([]),k=u(null),ce=ae(()=>{var o,s;return(s=(o=a.value)==null?void 0:o.providerable)!=null&&s.price?a.value.providerable.price:null}),ue=o=>{switch(o){case"wallet":return S;case"online":return Te;case"installment":return Oe;case"bank-transfer":return Ne;default:return S}},me=async()=>{if(P.value.length>0){y.value=!0;return}O.value=!0;try{const{data:o}=await f("/pay_types",{params:{type:"maintenance"}});o.value&&o.value.key==="success"&&(P.value=o.value.data,y.value=!0)}catch(o){console.error("Failed to fetch payment types",o)}finally{O.value=!1}},be=async()=>{const o=P.value.find(s=>s.slug===k.value);if(o)try{const{data:s,error:A}=await f(`/orders/pay-order/${x}`,{method:"POST",body:{pay_type:o.key}});s.value&&(s.value.key==="success"||s.value.status===!0)?(y.value=!1,p()):console.error("Payment failed",A.value||s.value)}catch(s){console.error("Payment submission error",s)}},fe=async o=>{try{const{data:s}=await f(`/orders/accept-offer/${o}`);s.value&&(s.value.key==="success"||s.value.status===!0)&&p()}catch(s){console.error("Failed to accept offer",s)}},pe=async o=>{try{const{data:s}=await f(`/orders/refuse-offer/${o}`);s.value&&(s.value.key==="success"||s.value.status===!0)&&p()}catch(s){console.error("Failed to refuse offer",s)}};ke(),$e(),u(!1);const $=u(!1),he=async()=>{if(!(v.value===0||$.value)){$.value=!0;try{const{data:o}=await f("/rate",{method:"POST",body:{order_id:x,rate:v.value,comment:w.value}});o.value&&(o.value.key==="success"||o.value.status===!0)&&(E.value=!1,v.value=0,w.value="",p())}catch(o){console.error("Failed to submit rate",o)}finally{$.value=!1}}},C=u(!1),j=u(!1),T=u([]),_=u(null),ve=async()=>{var o;if(T.value.length===0)try{const{data:s}=await f("/cancel-reasons");((o=s.value)==null?void 0:o.key)==="success"&&(T.value=s.value.data)}catch(s){console.error("Failed to fetch cancel reasons",s)}j.value=!0},ye=async()=>{if(!(!_.value||C.value)){C.value=!0;try{const{data:o}=await f("/orders/cancel-order",{method:"POST",body:{order_id:x,cancel_type_reason_id:_.value}});o.value&&(o.value.key==="success"||o.value.status===!0)&&(j.value=!1,p())}catch(o){console.error("Failed to cancel order",o)}finally{C.value=!1}}};return(o,s)=>{var L,W,U,q,G,H,J,Q,X,Y,K,Z,ee,te,se,oe;const A=_e;return n(),i("div",null,[e("div",Ae,[t(ie)?(n(),i("div",Be,s[20]||(s[20]=[e("div",{class:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"},null,-1)]))):t(z)?(n(),i("div",Re,[e("div",Se,[m(t(R),{class:"w-10 h-10 text-red-500"})]),e("h3",Ve,r(o.$t("cards.maintenanceDetails.errorTitle")),1),e("p",ze,r(t(z).message),1),e("button",{onClick:s[0]||(s[0]=(...l)=>t(p)&&t(p)(...l)),class:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"},r(o.$t("cards.maintenanceDetails.retry")),1)])):(n(),i("div",Le,[m(Fe,{items:[{label:o.$t("profile.orders.title"),to:"/profile/orders",active:!1},{label:o.$t("profile.orders.menuItems.maintenance.title"),to:"/profile/orders/maintenance",active:!1},{label:o.$t("cards.maintenanceDetails.title"),active:!0}],class:"mb-8"},null,8,["items"]),t(a)?(n(),i("div",We,[e("div",Ue,[e("div",qe,[e("div",Ge,[e("h3",He,r(o.$t("cards.maintenanceDetails.orderInfo")),1)]),e("div",Je,[e("div",Qe,[e("span",Xe,r(o.$t("cards.maintenanceDetails.orderNum")),1),e("span",Ye,r(t(a).order_num),1)]),e("div",Ke,[e("span",Ze,r(o.$t("cards.maintenanceDetails.status")),1),e("span",{class:F(["font-bold",de(t(a).status)])},r(t(a).status_text),3)]),e("div",et,[e("span",tt,r(o.$t("cards.maintenanceDetails.serviceType")),1),e("span",st,r(t(a).type_text),1)])])]),t(a).order_details||t(a).maintenance_type==="immediate"?(n(),i("div",ot,[e("div",at,[e("h3",rt,r(o.$t("cards.maintenanceDetails.serviceInfo")),1)]),e("div",lt,[t(a).order_details?(n(),i(b,{key:0},[e("div",nt,[e("span",it,r(o.$t("cards.maintenanceDetails.contractPeriod")),1),e("span",dt,r(t(a).order_details.contract_period)+" "+r(t(a).order_details.years_text),1)]),e("div",ct,[e("span",ut,r(o.$t("cards.maintenanceDetails.deviceCount")),1),e("span",mt,r(t(a).order_details.device_count)+" "+r(t(a).order_details.device_text),1)]),e("div",bt,[e("span",ft,r(o.$t("cards.maintenanceDetails.startDate")),1),e("span",pt,r(t(a).order_details.end_date),1)]),t(a).order_details.location?(n(),i("div",ht,[e("span",vt,r(o.$t("cards.maintenanceDetails.location")),1),e("div",yt,[m(t(le),{class:"w-4 h-4"}),e("span",null,r(t(a).order_details.location.map_desc),1)])])):d("",!0)],64)):(n(),i(b,{key:1},[t(a).device_no?(n(),i("div",_t,[e("span",gt,r(o.$t("maintenance.immediate.serialNumber")),1),e("span",xt,r(t(a).device_no),1)])):d("",!0),t(a).device_model?(n(),i("div",wt,[e("span",kt,r(o.$t("maintenance.immediate.model")),1),e("span",$t,r(t(a).device_model),1)])):d("",!0),t(a).facility_name?(n(),i("div",Ct,[e("span",jt,r(o.$t("maintenance.immediate.department")),1),e("span",Dt,r(t(a).facility_name),1)])):d("",!0),t(a).map_desc?(n(),i("div",Mt,[e("span",Et,r(o.$t("maintenance.immediate.deviceLocation")),1),e("div",Pt,[m(t(le),{class:"w-4 h-4"}),e("span",null,r(t(a).map_desc),1)])])):d("",!0)],64))])])):d("",!0),t(a).notes?(n(),i("div",Ft,[e("div",It,[e("h3",Nt,r(o.$t("cards.maintenanceDetails.notes")),1)]),e("p",Ot,r(t(a).notes),1)])):d("",!0)]),e("div",Tt,[e("div",{class:"h-48 md:h-56 rounded-2xl overflow-hidden shadow-sm relative group bg-gray-100 cursor-pointer",onClick:s[2]||(s[2]=l=>h.value=t(a).image)},[e("img",{src:t(a).image,onError:s[1]||(s[1]=l=>l.target.src="https://placehold.co/600x400?text=Device"),alt:"Order Device",class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"},null,40,At),s[21]||(s[21]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent pointer-events-none"},null,-1))]),t(a).image_damages&&t(a).image_damages.length>0?(n(),i("div",Bt,[e("div",Rt,[e("h3",St,r(o.$t("maintenance.immediate.faultImaging"))+" : ",1)]),e("div",Vt,[(n(!0),i(b,null,g(t(a).image_damages,(l,c)=>(n(),i("div",{key:l.id||c,class:"flex-shrink-0 w-16 h-16 md:w-20 md:h-20 rounded-lg overflow-hidden border-2 border-white shadow-sm hover:border-primary-300 transition-colors cursor-pointer group",onClick:B=>h.value=l.file||l},[e("img",{src:l.file||l,alt:`Damage ${c}`,class:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:s[3]||(s[3]=B=>B.target.src="https://placehold.co/100x100?text=Error")},null,40,Lt)],8,zt))),128))])])):d("",!0),t(a).buttons&&t(a).buttons.pay_button||t(a).provider||t(a).providerable?(n(),i("div",Wt,[e("div",Ut,[e("div",qt,[e("h3",Gt,r(o.$t("cards.maintenanceDetails.providerDetails")),1)]),e("div",Ht,[e("div",Jt,[e("div",Qt,[e("img",{src:((L=t(a).provider)==null?void 0:L.image)||((W=t(a).providerable)==null?void 0:W.image)||((q=(U=t(a).offers)==null?void 0:U[0])==null?void 0:q.image),alt:((G=t(a).provider)==null?void 0:G.name)||((H=t(a).providerable)==null?void 0:H.name)||((Q=(J=t(a).offers)==null?void 0:J[0])==null?void 0:Q.name),class:"w-full h-full object-cover",onError:s[4]||(s[4]=l=>l.target.src="https://placehold.co/100x100?text=Avatar")},null,40,Xt)]),e("div",null,[e("h4",Yt,r(((X=t(a).provider)==null?void 0:X.name)||((Y=t(a).providerable)==null?void 0:Y.name)||((Z=(K=t(a).offers)==null?void 0:K[0])==null?void 0:Z.name)),1),e("div",Kt,[(n(),i(b,null,g(5,l=>e("span",{key:l},"â˜…")),64))])])]),m(A,{to:{path:"/profile/chat",query:{roomId:((ee=t(a).providerable)==null?void 0:ee.room_id)||((te=t(a).provider)==null?void 0:te.room_id)||((se=t(a).buttons)==null?void 0:se.room_id)}},class:"flex items-center gap-2 bg-[#EADFD8] text-[#8C6B5D] px-4 py-2 rounded-lg hover:bg-[#E0D0C5] transition-colors text-sm font-bold shadow-sm border border-[#DCCAC0]"},{default:D(()=>[e("span",null,r(o.$t("cards.maintenanceDetails.chat")),1)]),_:1},8,["to"])])])])):d("",!0),!((oe=t(a).buttons)!=null&&oe.pay_button)&&!t(a).provider&&!t(a).providerable?(n(),i(b,{key:2},[t(a).offers&&t(a).offers.length>0?(n(),i("div",Zt,[e("div",es,[e("div",ts,[e("h3",ss,r(o.$t("cards.maintenanceDetails.offers")),1)]),e("div",os,[(n(!0),i(b,null,g(t(a).offers,l=>(n(),i("div",{key:l.id,class:"bg-white/60 rounded-xl p-4 border border-white shadow-sm hover:shadow-md transition-shadow"},[e("div",as,[e("div",rs,[e("div",ls,[e("img",{src:l.image,alt:l.name,class:"w-full h-full object-cover",onError:s[5]||(s[5]=c=>c.target.src="https://placehold.co/100x100?text=User")},null,40,ns)]),e("div",null,[e("h4",is,r(l.name),1),e("div",ds,r(l.notes),1)])]),e("div",cs,[e("div",us,[e("span",ms,r(l.price),1),s[22]||(s[22]=e("img",{src:re,alt:"sar",class:"w-4 h-4 object-contain"},null,-1))]),e("div",bs,r(l.period||l.hour),1)])]),e("div",fs,[e("button",{onClick:c=>fe(l.id),class:"flex-1 background-btn text-white py-3 rounded-lg font-bold text-sm hover:bg-[#723810] transition-colors shadow-sm"},r(o.$t("cards.maintenanceDetails.accept")),9,ps),e("button",{onClick:c=>pe(l.id),class:"flex-1 bg-[#E8dfd8] text-[#EC2D30] py-2 rounded-lg font-bold text-sm hover:bg-[#dcd0c6] transition-colors"},r(o.$t("cards.maintenanceDetails.reject")),9,hs)]),e("div",vs,[e("button",ys,r(o.$t("cards.maintenanceDetails.conditions")),1)])]))),128))])])])):(n(),i("div",_s,[s[23]||(s[23]=e("div",{class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3 text-gray-400"},[e("span",{class:"text-2xl"},"!")],-1)),e("p",gs,r(o.$t("cards.maintenanceDetails.noOffers")),1)]))],64)):d("",!0)])])):d("",!0),t(a)&&t(a).buttons?(n(),i("div",xs,[e("div",ws,[t(a).buttons.pay_button?(n(),i("button",{key:0,onClick:me,class:"w-full bg-[#bf4e26]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#bf4e26] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20"},[t(O)?(n(),i("div",ks)):(n(),i("span",$s,r(o.$t("cards.maintenanceDetails.payNow")),1))])):d("",!0),t(a).buttons.cancel?(n(),i("button",{key:1,onClick:ve,class:"w-full text-[#EC2D30] cancel-btn py-3.5 rounded-xl font-bold text-lg hover:bg-[#E57373] hover:-translate-y-1 transition-all flex items-center justify-center border border-[#EC2D30]"},[e("span",null,r(o.$t("cards.maintenanceDetails.cancelOrder")),1)])):d("",!0),t(a).buttons.rate?(n(),i("button",{key:2,onClick:s[6]||(s[6]=l=>E.value=!0),class:"w-full bg-[#bf4e26]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#bf4e26] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20"},[e("span",null,r(o.$t("cards.maintenanceDetails.rate")),1)])):d("",!0),t(a).buttons.contact_with_admin?(n(),i("div",Cs,[e("button",js,[e("span",null,r(o.$t("cards.maintenanceDetails.contactWithAdmin")),1)])])):d("",!0)])])):d("",!0)]))]),m(N,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:D(()=>[t(h)?(n(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:s[10]||(s[10]=l=>h.value=null)},[e("div",{class:"relative max-w-4xl max-h-[90vh] w-full",onClick:s[9]||(s[9]=I(()=>{},["stop"]))},[e("button",{onClick:s[7]||(s[7]=l=>h.value=null),class:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors"},[m(t(R),{class:"w-8 h-8"})]),e("img",{src:t(h),class:"w-full h-full object-contain rounded-lg shadow-2xl",alt:"Preview",onError:s[8]||(s[8]=l=>l.target.src="https://placehold.co/600x400?text=Error")},null,40,Ds)])])):d("",!0)]),_:1}),m(N,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:D(()=>[t(E)?(n(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:s[13]||(s[13]=l=>E.value=!1)},[e("div",{class:"bg-white/90 backdrop-blur-md w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/20",onClick:s[12]||(s[12]=I(()=>{},["stop"]))},[e("h3",Ms,r(o.$t("cards.maintenanceDetails.rateModal.title")),1),e("div",Es,[(n(),i(b,null,g(5,l=>e("button",{key:l,onClick:c=>v.value=l,class:"transition-transform hover:scale-110 focus:outline-none"},[m(t(Ie),{class:F(["w-10 h-10 transition-colors",l<=t(v)?"fill-yellow-400 text-yellow-400":"text-gray-300"]),"stroke-width":"1.5"},null,8,["class"])],8,Ps)),64))]),e("div",Fs,[e("label",Is,r(o.$t("cards.maintenanceDetails.rateModal.yourComment")),1),Ce(e("textarea",{"onUpdate:modelValue":s[11]||(s[11]=l=>De(w)?w.value=l:null),rows:"4",class:"w-full bg-gray-100/50 border border-gray-200 rounded-xl p-4 text-right focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 transition-all resize-none placeholder-gray-400",placeholder:o.$t("cards.maintenanceDetails.rateModal.placeholder")},null,8,Ns),[[je,t(w)]])]),e("button",{onClick:he,disabled:t(v)===0||t($),class:"w-full bg-[#bf4e26] text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-[#a64420] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[t($)?(n(),i("div",Ts)):d("",!0),e("span",null,r(o.$t("cards.maintenanceDetails.rateModal.send")),1)],8,Os)])])):d("",!0)]),_:1}),m(N,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:D(()=>{var l;return[t(y)?(n(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:s[16]||(s[16]=c=>y.value=!1)},[e("div",{class:"bg-[#808080] w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/10 relative",onClick:s[15]||(s[15]=I(()=>{},["stop"]))},[e("button",{onClick:s[14]||(s[14]=c=>y.value=!1),class:"absolute top-4 right-4 text-white/70 hover:text-white"},[m(t(R),{class:"w-6 h-6"})]),e("h3",As,r(o.$t("cards.maintenanceDetails.paymentModal.title")),1),e("div",Bs,[e("div",Rs,[m(t(S),{class:"w-12 h-12 text-[#bf4e26]"})]),e("div",Ss,[Me(r(t(ce)||((l=t(a).providerable)==null?void 0:l.price)||"0.00")+" ",1),s[24]||(s[24]=e("img",{src:re,alt:"sar",class:"w-5 h-5 object-contain inline-block"},null,-1))])]),e("div",Vs,[(n(!0),i(b,null,g(t(P),c=>(n(),i("div",{key:c.key,onClick:B=>k.value=c.slug,class:F(["flex items-center justify-between p-4 rounded-xl cursor-pointer transition-all border",t(k)===c.slug?"bg-white/20 border-[#bf4e26] ring-1 ring-[#bf4e26]":"bg-white/5 border-transparent hover:bg-white/10"])},[e("div",Ls,[e("div",Ws,[t(k)===c.slug?(n(),i("div",Us)):d("",!0)]),(n(),Ee(Pe(ue(c.slug)),{class:"w-5 h-5 text-[#bf4e26]"}))]),e("span",qs,r(c.slug_text),1)],10,zs))),128))]),e("button",{onClick:be,disabled:!t(k),class:"w-full bg-[#bf4e26] text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-[#a64420] transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},r(o.$t("cards.maintenanceDetails.paymentModal.confirm")),9,Gs)])])):d("",!0)]}),_:1}),m(N,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:D(()=>[t(j)?(n(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:s[19]||(s[19]=l=>j.value=!1)},[e("div",{class:"bg-white/90 backdrop-blur-md w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/20",onClick:s[18]||(s[18]=I(()=>{},["stop"]))},[e("h3",Hs,r(o.$t("cancelModal.title")),1),e("div",Js,[(n(!0),i(b,null,g(t(T),l=>(n(),i("div",{key:l.id,onClick:c=>_.value=l.id,class:F(["flex items-center justify-between p-4 rounded-xl cursor-pointer transition-all border group",t(_)===l.id?"bg-red-50 border-red-200 ring-1 ring-red-200":"bg-gray-50 border-transparent hover:bg-gray-100"])},[e("div",Xs,[t(_)===l.id?(n(),i("div",Ys)):d("",!0)]),e("span",Ks,r(l.name),1)],10,Qs))),128))]),e("div",Zs,[e("button",{onClick:ye,disabled:!t(_)||t(C),class:"w-full bg-[#E57373] text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-[#d45d5d] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[t(C)?(n(),i("div",to)):d("",!0),e("span",null,r(o.$t("cancelModal.confirm")),1)],8,eo),e("button",{onClick:s[17]||(s[17]=l=>j.value=!1),class:"w-full bg-gray-100 text-gray-600 py-3 rounded-xl font-bold text-lg hover:bg-gray-200 transition-colors"},r(o.$t("cancelModal.cancel")),1)])])])):d("",!0)]),_:1})])}}},_o=ge(so,[["__scopeId","data-v-75a3afe7"]]);export{_o as default};
