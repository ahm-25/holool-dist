import{_ as C}from"./CSO7IP8C.js";import{_ as $,E as k,g as A,u as B,c as E,a as e,b as h,M as u,C as l,t as a,w as L,P as N,Q as V,Y as z,A as M,J as T,d as j,r as n,o as x,m as F}from"./CtGyamCA.js";import{D as S}from"./CiV2JSlH.js";import{a as W,u as I}from"./NVE8NEWq.js";import{u as R}from"./CIi_ESSC.js";import{L as U}from"./Bck819PV.js";import"./CCtwN-yS.js";import"./C2TBslFw.js";import"./B3LWhJXf.js";import"./DIH-4xJn.js";const H=""+new URL("wallet.C9yFoWXo.png",import.meta.url).href,J={class:"relative z-10 w-full max-w-2xl mx-auto flex flex-col flex-1 justify-center"},P={class:"flex flex-col items-center gap-2"},Q={class:"text-[#5D4037]/70 font-medium text-lg sm:text-xl"},X={class:"flex items-center gap-2"},Y={class:"text-3xl sm:text-4xl font-bold text-[#5D4037]"},q={class:"text-xl sm:text-2xl font-bold text-[#5D4037]"},G={class:"flex flex-col gap-6 text-center"},K={class:"text-2xl font-bold text-[#5D3A34]"},O={class:"bg-[#8B3E2D]/5 rounded-2xl p-4 border border-[#8B3E2D]/10"},Z={class:"text-[#5D3A34]/60 text-sm block"},ee={class:"text-xl font-bold text-[#8B3E2D]"},te={class:"flex flex-col gap-2 text-start"},le={class:"font-bold text-[#5D3A34] px-1"},ae={class:"main-input"},oe=["placeholder"],se=["disabled"],re={__name:"index",setup(ne){const{t:d}=k(),{get:g}=W(),{upload:_}=I(),m=R(),i=n(!1),p=n(null),c=n(!1),r=n(!1),s=n(""),f=async()=>{try{const t=await g("/show-wallet");p.value=t}catch(t){console.error("Error fetching wallet data:",t)}};A(async()=>{setTimeout(()=>{i.value=!0},50),await f()});const b=F(()=>p.value?.data?.balance||0),v=()=>{c.value=!0},y=async()=>{if(!r.value){r.value=!0;try{const t=new FormData;t.append("amount",s.value),await _("/charge-wallet",t),m.success(d("profile.more.wallet.success_msg")),c.value=!1,s.value="",await f()}catch(t){console.error("Charge error:",t),m.error(t.error||d("profile.more.wallet.error_msg"))}finally{r.value=!1}}};return B({title:d("profile.more.wallet.breadcrumb")}),(t,o)=>{const D=C;return x(),E("div",{class:u(["min-h-screen main-gradient-bg w-full flex flex-col p-6 sm:p-10 relative overflow-hidden transition-all duration-700",l(i)?"opacity-100 translate-y-0":"opacity-0 translate-y-6"])},[o[3]||(o[3]=e("div",{class:"absolute top-0 left-0 w-full h-full pointer-events-none z-0"},[e("div",{class:"absolute blob-anim top-[-10%] left-[-10%] w-[50%] h-[50%] bg-white/10 rounded-full blur-[100px]"}),e("div",{class:"absolute blob-anim bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-[#8B5E50]/20 rounded-full blur-[80px]"})],-1)),e("div",{class:u(["relative z-10 transition-all duration-700",l(i)?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"])},[h(D,{items:[{label:t.$t("profile.more.title"),to:"/profile/more",active:!1},{label:t.$t("profile.more.wallet.breadcrumb"),to:"/profile/more/wallet",active:!0}],direction:t.$i18n.locale==="ar"?"rtl":"ltr"},null,8,["items","direction"])],2),e("div",J,[e("div",{class:u(["bg-white/25 backdrop-blur-xl border border-white/40 shadow-xl rounded-[2.5rem] p-8 sm:p-12 transition-all duration-700 flex flex-col items-center gap-8",l(i)?"opacity-100 scale-100":"opacity-0 scale-95"])},[o[2]||(o[2]=e("div",{class:"relative"},[e("img",{src:H,alt:"Wallet",class:"w-32 h-32 sm:w-48 sm:h-48 object-contain drop-shadow-2xl"})],-1)),e("div",P,[e("span",Q,a(t.$t("profile.more.wallet.current_balance")),1),e("div",X,[e("span",Y,a(Number(l(b)).toLocaleString()),1),e("span",q,a(t.$t("profile.more.wallet.sar")),1)])]),e("button",{onClick:v,class:"w-full sm:w-64 py-4 px-8 background-btn text-white font-bold text-lg rounded-2xl shadow-lg shadow-[#A64D36]/30 hover:shadow-xl hover:shadow-[#A64D36]/40 hover:-translate-y-1 transition-all duration-300 active:scale-95"},a(t.$t("profile.more.wallet.charge_wallet")),1)],2)]),h(S,{visible:l(c),onClose:o[1]||(o[1]=w=>c.value=!1),width:"600px"},{default:L(()=>[e("div",G,[e("h2",K,a(t.$t("profile.more.wallet.charge_dialog_title")),1),e("div",O,[e("span",Z,a(t.$t("profile.more.wallet.current_balance")),1),e("span",ee,a(Number(l(b)).toLocaleString())+" "+a(t.$t("profile.more.wallet.sar")),1)]),e("div",te,[e("label",le,a(t.$t("profile.more.wallet.amount_label")),1),e("div",ae,[N(e("input",{"onUpdate:modelValue":o[0]||(o[0]=w=>z(s)?s.value=w:null),type:"number",placeholder:t.$t("profile.more.wallet.amount_placeholder"),class:"w-full bg-transparent outline-none text-[#5D3A34]"},null,8,oe),[[V,l(s)]])])]),e("button",{onClick:y,disabled:l(r)||!l(s),class:"w-full py-4 background-btn text-white font-bold text-lg rounded-2xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all mt-4 flex items-center justify-center gap-2"},[l(r)?(x(),M(l(U),{key:0,class:"w-5 h-5 animate-spin"})):T("",!0),j(" "+a(t.$t("profile.more.wallet.confirm_btn")),1)],8,se)])]),_:1},8,["visible"])],2)}}},xe=$(re,[["__scopeId","data-v-9905c319"]]);export{xe as default};
