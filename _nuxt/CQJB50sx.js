import{_ as le}from"./DtYY6JNH.js";import{W as ne,H as ie,G as de,c as n,C as o,a as e,b as u,t as r,J as d,d as q,F as x,B as j,w as M,S as R,a3 as S,P as ce,Q as ue,Y as be,O as fe,r as c,o as l,M as B,A as me,U as he,m as pe}from"./CPAe5scI.js";import{_ as L}from"./e2BhSMQC.js";import{b as f}from"./DG626kXz.js";import{_ as ve}from"./B9HkRxPe.js";import{u as ye}from"./C0TKYP46.js";import{C as N}from"./BRmYDGNQ.js";import{M as ge}from"./CJQEBdfM.js";import{S as xe}from"./DCtbY4rw.js";import{W as z,L as _e,B as we}from"./CEpkiH86.js";import{C as ke}from"./BbNrWadI.js";import"./DqsQrZ2N.js";import"./CmDsr2N7.js";import"./DFnX8DPC.js";const $e={class:"min-h-screen font-sans text-right relative pb-24"},Ce={key:0,class:"flex items-center justify-center min-h-[60vh]"},De={key:1,class:"max-w-7xl mx-auto px-4 py-12 flex flex-col items-center text-center"},je={class:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mb-4"},Me={class:"text-xl font-bold text-gray-800 mb-2"},Ee={class:"text-gray-500 mb-6"},Pe={key:2,class:"pt-8 px-4 md:px-8 max-w-7xl mx-auto"},Fe={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-24"},Re={class:"space-y-6"},Se={class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},Te={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},Oe={class:"text-gray-800 font-bold text-lg"},Ae={class:"space-y-3"},Be={class:"flex justify-between items-center"},Le={class:"text-gray-500 text-sm font-medium"},Ne={class:"text-gray-800 font-bold font-mono"},ze={class:"flex justify-between items-center"},Ie={class:"text-gray-500 text-sm font-medium"},Ve={class:"font-bold text-gray-800"},qe={class:"flex justify-between items-center"},Ue={class:"text-gray-500 text-sm font-medium"},We={class:"text-gray-800 font-bold"},Ge={class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},He={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},Je={class:"text-gray-800 font-bold text-lg"},Qe={class:"space-y-3"},Xe={class:"flex justify-between items-center"},Ye={class:"text-gray-500 text-sm font-medium"},Ke={class:"text-gray-800 font-bold"},Ze={class:"flex justify-between items-center"},et={class:"text-gray-500 text-sm font-medium"},tt={class:"text-gray-800 font-bold"},st={class:"flex justify-between items-center"},ot={class:"text-gray-500 text-sm font-medium"},rt={class:"text-gray-800 font-bold font-mono"},at={class:"flex justify-between items-start"},lt={class:"text-gray-500 text-sm font-medium"},nt={key:0,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},it={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},dt={class:"text-gray-800 font-bold text-lg"},ct={class:"text-gray-600 text-sm leading-relaxed text-right break-words whitespace-pre-wrap"},ut={class:"space-y-6"},bt=["src"],ft={class:"absolute bottom-4 right-4 left-4 flex justify-between items-end"},mt={class:"bg-black/40 backdrop-blur-md px-3 py-1.5 rounded-lg"},ht={class:"text-white font-bold text-sm"},pt={class:"text-white/80 text-xs"},vt={key:0,class:"bg-white/90 backdrop-blur-md px-3 py-1.5 rounded-lg"},yt={class:"text-[#A6431F] font-bold text-sm"},gt={key:0,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},xt={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},_t={class:"text-gray-800 font-bold text-lg"},wt={class:"flex items-center justify-between"},kt={class:"flex items-center gap-3"},$t={class:"w-12 h-12 rounded-full overflow-hidden border-2 border-white shadow-md bg-gray-100"},Ct=["src","alt"],Dt={class:"font-bold text-gray-800 text-sm"},jt={class:"flex text-yellow-400 text-xs mt-0.5"},Mt={key:0,class:"space-y-4"},Et={class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6"},Pt={class:"flex justify-between items-center mb-4 border-b border-gray-200/30 pb-2"},Ft={class:"text-gray-800 font-bold text-lg"},Rt={class:"space-y-4"},St={class:"flex items-start justify-between mb-4"},Tt={class:"flex items-center gap-3"},Ot={class:"w-12 h-12 rounded-full overflow-hidden border border-gray-200 bg-gray-50"},At=["src","alt"],Bt={class:"font-bold text-gray-800 text-sm"},Lt={class:"text-xs text-gray-500 mt-1 line-clamp-1"},Nt={class:"text-left"},zt={class:"flex items-baseline gap-1 text-primary-600 font-bold text-lg"},It={class:"text-[#A6431F] font-mono"},Vt={key:0,class:"text-xs text-gray-400 mt-1"},qt={class:"flex gap-3"},Ut=["onClick"],Wt=["onClick"],Gt={class:"mt-3 text-center"},Ht={class:"text-xs text-gray-500 hover:text-primary-600 underline"},Jt={key:1,class:"bg-white/40 backdrop-blur-md border border-white/50 shadow-sm rounded-2xl p-6 text-center py-12"},Qt={class:"text-gray-500 font-medium"},Xt={key:1,class:"pointer-events-none"},Yt={class:"max-w-md mx-auto px-4 pointer-events-auto space-y-3"},Kt={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},Zt={key:1},es={key:3,class:"flex gap-4"},ts=["disabled"],ss={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},os={key:1},rs=["disabled"],as={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},ls={key:1},ns=["src"],is={class:"text-center text-gray-800 font-bold text-lg mb-6"},ds={class:"flex justify-center gap-2 mb-8",dir:"ltr"},cs=["onClick"],us={class:"mb-6"},bs={class:"block text-right text-gray-600 mb-2 text-sm"},fs=["placeholder"],ms=["disabled"],hs={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},ps={class:"text-center text-gray-900 font-bold text-lg mb-2 border-b border-white/10 pb-4"},vs={class:"flex flex-col items-center justify-center py-6"},ys={class:"mb-2"},gs={class:"text-[#bf4e26] font-bold text-2xl dir-rtl"},xs={class:"space-y-3 mb-6"},_s=["onClick"],ws={class:"flex items-center gap-3"},ks={class:"w-5 h-5 rounded-full border border-gray-400 flex items-center justify-center p-0.5"},$s={key:0,class:"w-full h-full bg-[#bf4e26] rounded-full"},Cs={class:"font-medium text-gray-800"},Ds=["disabled"],js={class:"text-center text-gray-800 font-bold text-lg mb-6"},Ms={class:"space-y-3 mb-8"},Es=["onClick"],Ps={class:"w-5 h-5 rounded-full border border-gray-300 flex items-center justify-center p-0.5"},Fs={key:0,class:"w-full h-full bg-red-500 rounded-full"},Rs={class:"font-medium text-gray-700 text-right flex-1 mr-4"},Ss={class:"flex flex-col gap-3"},Ts=["disabled"],Os={key:0,class:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"},Ks={__name:"[id]",async setup(As){let E,I;const h=fe().params.id,_=c(null),{data:U,pending:W,error:V,refresh:m}=([E,I]=ne(()=>f(`/orders/rent-details/${h}`,{key:`rental-order-${h}`})),E=await E,I(),E),i=pe(()=>U.value?.data||null),G=(t,s)=>{t&&s&&window.open(`https://www.google.com/maps/search/?api=1&query=${t},${s}`,"_blank")},b=c(null),H=ie(),J=de(),Q=ye(),X=async()=>{if(!b.value){b.value="renew";try{const{data:t,error:s}=await f(`/orders/renew-rent-machine/${h}`);t.value?m():s.value&&console.error("Renew rent failed",s.value)}catch(t){console.error("Renew rent exception",t)}finally{b.value=null}}},Y=async()=>{if(!b.value){b.value="end";try{const{data:t,error:s}=await f("/orders/finish-order",{method:"POST",body:{order_id:h}});t.value&&(t.value.key==="success"||t.value.status===!0)?(Q.success(t.value.msg),H.push(J("/profile/orders/rental"))):s.value&&console.error("End rent failed",s.value)}catch(t){console.error("End rent exception",t)}finally{b.value=null}}},K=async t=>{try{const{data:s}=await f(`/orders/accept-offer/${t}`);s.value&&(s.value.key==="success"||s.value.status===!0)&&m()}catch(s){console.error("Failed to accept offer",s)}},Z=async t=>{try{const{data:s}=await f(`/orders/refuse-offer/${t}`);s.value&&(s.value.key==="success"||s.value.status===!0)&&m()}catch(s){console.error("Failed to refuse offer",s)}},P=c(!1),p=c(0),w=c(""),k=c(!1),ee=async()=>{if(!(p.value===0||k.value)){k.value=!0;try{const{data:t}=await f("/rate",{method:"POST",body:{order_id:h,rate:p.value,comment:w.value}});t.value&&(t.value.key==="success"||t.value.status===!0)&&(P.value=!1,p.value=0,w.value="",m())}catch(t){console.error("Failed to submit rate",t)}finally{k.value=!1}}},v=c(!1),T=c(!1),F=c([]),$=c(null),te=t=>{switch(t){case"wallet":return z;case"online":return ke;case"installment":return we;case"bank-transfer":return _e;default:return z}},se=async()=>{if(F.value.length>0){v.value=!0;return}T.value=!0;try{const{data:t}=await f("/pay_types",{params:{type:"rent"}});t.value&&t.value.key==="success"&&(F.value=t.value.data,v.value=!0)}catch(t){console.error("Failed to fetch payment types",t)}finally{T.value=!1}},oe=async()=>{const t=F.value.find(s=>s.slug===$.value);if(t)try{const{data:s,error:A}=await f(`/orders/pay-order/${h}`,{method:"POST",body:{pay_type:t.key}});s.value&&(s.value.key==="success"||s.value.status===!0)?(v.value=!1,m()):console.error("Payment failed",A.value||s.value)}catch(s){console.error("Payment submission error",s)}},C=c(!1),D=c(!1),O=c([]),y=c(null),re=async()=>{if(O.value.length===0)try{const{data:t}=await f("/cancel-reasons");t.value?.key==="success"&&(O.value=t.value.data)}catch(t){console.error("Failed to fetch cancel reasons",t)}D.value=!0},ae=async()=>{if(!(!y.value||C.value)){C.value=!0;try{const{data:t}=await f("/orders/cancel-order",{method:"POST",body:{order_id:h,cancel_type_reason_id:y.value}});t.value&&(t.value.key==="success"||t.value.status===!0)&&(D.value=!1,m())}catch(t){console.error("Failed to cancel order",t)}finally{C.value=!1}}};return(t,s)=>{const A=le;return l(),n("div",$e,[o(W)?(l(),n("div",Ce,[...s[19]||(s[19]=[e("div",{class:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"},null,-1)])])):o(V)?(l(),n("div",De,[e("div",je,[u(o(N),{class:"w-10 h-10 text-red-500"})]),e("h3",Me,r(t.$t("cards.maintenanceDetails.errorTitle")),1),e("p",Ee,r(o(V).message),1),e("button",{onClick:s[0]||(s[0]=(...a)=>o(m)&&o(m)(...a)),class:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"},r(t.$t("cards.maintenanceDetails.retry")),1)])):(l(),n("div",Pe,[u(ve,{items:[{label:t.$t("profile.orders.title"),to:"/profile/orders",active:!1},{label:t.$t("profile.orders.menuItems.rental.title"),to:"/profile/orders/rental",active:!1},{label:t.$t("cards.rentalDetails.title"),active:!0}],class:"mb-8"},null,8,["items"]),o(i)?(l(),n("div",Fe,[e("div",Re,[e("div",Se,[e("div",Te,[e("h3",Oe,r(t.$t("cards.rentalDetails.orderDetails")),1)]),e("div",Ae,[e("div",Be,[e("span",Le,r(t.$t("cards.rentalDetails.orderNum")),1),e("span",Ne,r(o(i).order_num),1)]),e("div",ze,[e("span",Ie,r(t.$t("cards.rentalDetails.status")),1),e("span",Ve,r(o(i).status_text),1)]),e("div",qe,[e("span",Ue,r(t.$t("cards.rentalDetails.serviceType")),1),e("span",We,r(o(i).type_text),1)])])]),e("div",Ge,[e("div",He,[e("h3",Je,r(t.$t("cards.rentalDetails.serviceDetails")),1)]),e("div",Qe,[e("div",Xe,[e("span",Ye,r(t.$t("cards.rentalDetails.rentPeriod")),1),e("span",Ke,r(o(i).rent_period)+" "+r(t.$t("common.months")),1)]),e("div",Ze,[e("span",et,r(t.$t("cards.rentalDetails.deviceCount")),1),e("span",tt,r(o(i).quantity||1)+" "+r(t.$t("common.device")),1)]),e("div",st,[e("span",ot,r(t.$t("cards.rentalDetails.startDate")),1),e("span",rt,r(o(i).rent_start_date),1)]),e("div",at,[e("span",lt,r(t.$t("cards.rentalDetails.deliveryLocation")),1),e("div",{class:"flex items-center gap-1 text-primary-600 font-bold cursor-pointer hover:text-primary-700 hover:underline transition-colors",onClick:s[1]||(s[1]=a=>G(o(i).lat,o(i).lng))},[u(o(ge),{class:"w-4 h-4"}),e("span",null,r(o(i).map_desc),1)])])])]),o(i).notes?(l(),n("div",nt,[e("div",it,[e("h3",dt,r(t.$t("cards.rentalDetails.notes")),1)]),e("p",ct,r(o(i).notes),1)])):d("",!0)]),e("div",ut,[e("div",{class:"h-48 md:h-56 rounded-2xl overflow-hidden shadow-sm relative group bg-gray-100 cursor-pointer",onClick:s[2]||(s[2]=a=>_.value=o(i).machine?.image)},[e("img",{src:o(i).machine?.image||"https://placehold.co/600x400?text=Device",alt:"Order Device",class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"},null,8,bt),s[21]||(s[21]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent pointer-events-none"},null,-1)),e("div",ft,[e("div",mt,[e("h4",ht,r(o(i).machine?.title),1),e("p",pt,r(o(i).machine?.device_class),1)]),o(i).machine?.price?(l(),n("div",vt,[e("div",yt,[q(r(o(i).machine.price)+" ",1),s[20]||(s[20]=e("img",{src:L,alt:"sar",class:"w-4 h-4 object-contain inline-block"},null,-1))])])):d("",!0)])]),o(i).providerable?(l(),n("div",gt,[e("div",xt,[e("h3",_t,r(t.$t("cards.rentalDetails.providerDetails")),1)]),e("div",wt,[e("div",kt,[e("div",$t,[e("img",{src:o(i).providerable.image,alt:o(i).providerable.name,class:"w-full h-full object-cover",onError:s[3]||(s[3]=a=>a.target.src="https://placehold.co/100x100?text=Avatar")},null,40,Ct)]),e("div",null,[e("h4",Dt,r(o(i).providerable.name),1),e("div",jt,[(l(),n(x,null,j(5,a=>e("span",{key:a},"â˜…")),64))])])]),u(A,{to:{path:"/profile/chat",query:{roomId:o(i).providerable?.room_id||o(i).provider?.room_id||o(i).buttons?.room_id}},class:"flex items-center gap-2 bg-[#FDF0EC] text-[#bf4e26] px-4 py-2 rounded-lg hover:bg-[#fae2db] transition-colors text-sm font-bold shadow-sm border border-[#bf4e26]/30"},{default:M(()=>[e("span",null,r(t.$t("cards.rentalDetails.chat")),1)]),_:1},8,["to"])])])):d("",!0),!o(i).providerable&&o(i).offers?(l(),n(x,{key:1},[o(i).offers.length>0?(l(),n("div",Mt,[e("div",Et,[e("div",Pt,[e("h3",Ft,r(t.$t("cards.rentalDetails.offers")),1)]),e("div",Rt,[(l(!0),n(x,null,j(o(i).offers,a=>(l(),n("div",{key:a.id,class:"bg-white/60 rounded-xl p-4 border border-white shadow-sm hover:shadow-md transition-shadow"},[e("div",St,[e("div",Tt,[e("div",Ot,[e("img",{src:a.image,alt:a.name,class:"w-full h-full object-cover",onError:s[4]||(s[4]=g=>g.target.src="https://placehold.co/100x100?text=User")},null,40,At)]),e("div",null,[e("h4",Bt,r(a.name),1),e("div",Lt,r(a.notes),1)])]),e("div",Nt,[e("div",zt,[e("span",It,r(a.price),1),s[22]||(s[22]=e("img",{src:L,class:"w-4 h-4 object-contain",alt:"SAR"},null,-1))]),a.period?(l(),n("div",Vt,r(a.period)+" "+r(a.hour),1)):d("",!0)])]),e("div",qt,[e("button",{onClick:g=>K(a.id),class:"flex-1 background-btn text-white py-3 rounded-lg font-bold text-sm hover:bg-[#723810] transition-colors shadow-sm"},r(t.$t("cards.rentalDetails.accept")),9,Ut),e("button",{onClick:g=>Z(a.id),class:"flex-1 bg-[#E8dfd8] text-[#EC2D30] py-2 rounded-lg font-bold text-sm hover:bg-[#dcd0c6] transition-colors"},r(t.$t("cards.rentalDetails.reject")),9,Wt)]),e("div",Gt,[e("button",Ht,r(t.$t("cards.maintenanceDetails.conditions")),1)])]))),128))])])])):(l(),n("div",Jt,[s[23]||(s[23]=e("div",{class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3 text-gray-400"},[e("span",{class:"text-2xl"},"!")],-1)),e("p",Qt,r(t.$t("cards.rentalDetails.noOffers")),1)]))],64)):d("",!0)])])):d("",!0),o(i)&&o(i).buttons?(l(),n("div",Xt,[e("div",Yt,[o(i).buttons.rate_provider?(l(),n("button",{key:0,onClick:s[5]||(s[5]=a=>P.value=!0),class:"w-full bg-[#bf4e26]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#bf4e26] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20"},[e("span",null,r(t.$t("cards.rentalDetails.rate")),1)])):d("",!0),o(i).buttons.cancel?(l(),n("button",{key:1,onClick:re,class:"w-full text-[#EC2D30] cancel-btn py-3.5 rounded-xl font-bold text-lg hover:bg-[#E57373] hover:-translate-y-1 transition-all flex items-center justify-center border border-[#EC2D30]"},[e("span",null,r(t.$t("cards.rentalDetails.cancelOrder")),1)])):d("",!0),o(i).buttons.pay_button?(l(),n("button",{key:2,onClick:se,class:"w-full bg-[#C0481F]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#C0481F] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20"},[o(T)?(l(),n("div",Kt)):(l(),n("span",Zt,r(t.$t("cards.rentalDetails.payNow")),1))])):d("",!0),o(i).buttons.renew_rent||o(i).buttons.end_rent?(l(),n("div",es,[o(i).buttons.end_rent?(l(),n("button",{key:0,onClick:Y,disabled:o(b),class:"flex-1 bg-[#E57373]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#E57373] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20 disabled:opacity-50 disabled:cursor-not-allowed"},[o(b)==="end"?(l(),n("div",ss)):(l(),n("span",os,r(t.$t("cards.rentalDetails.endRent")),1))],8,ts)):d("",!0),o(i).buttons.renew_rent?(l(),n("button",{key:1,onClick:X,disabled:o(b),class:"flex-1 bg-[#C0481F]/90 backdrop-blur-md text-white py-3.5 rounded-xl font-bold text-lg shadow-lg hover:bg-[#C0481F] hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-2 border border-white/20 disabled:opacity-50 disabled:cursor-not-allowed"},[o(b)==="renew"?(l(),n("div",as)):(l(),n("span",ls,r(t.$t("cards.rentalDetails.renewRent")),1))],8,rs)):d("",!0)])):d("",!0)])])):d("",!0)])),u(S,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:M(()=>[o(_)?(l(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:s[9]||(s[9]=a=>_.value=null)},[e("div",{class:"relative max-w-4xl max-h-[90vh] w-full",onClick:s[8]||(s[8]=R(()=>{},["stop"]))},[e("button",{onClick:s[6]||(s[6]=a=>_.value=null),class:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors"},[u(o(N),{class:"w-8 h-8"})]),e("img",{src:o(_),class:"w-full h-full object-contain rounded-lg shadow-2xl",alt:"Preview",onError:s[7]||(s[7]=a=>a.target.src="https://placehold.co/600x400?text=Error")},null,40,ns)])])):d("",!0)]),_:1}),u(S,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:M(()=>[o(P)?(l(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:s[12]||(s[12]=a=>P.value=!1)},[e("div",{class:"bg-white/90 backdrop-blur-md w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/20",onClick:s[11]||(s[11]=R(()=>{},["stop"]))},[e("h3",is,r(t.$t("cards.rentalDetails.rate")),1),e("div",ds,[(l(),n(x,null,j(5,a=>e("button",{key:a,onClick:g=>p.value=a,class:"transition-transform hover:scale-110 focus:outline-none"},[u(o(xe),{class:B(["w-10 h-10 transition-colors",a<=o(p)?"fill-yellow-400 text-yellow-400":"text-gray-300"]),"stroke-width":"1.5"},null,8,["class"])],8,cs)),64))]),e("div",us,[e("label",bs,r(t.$t("cards.maintenanceDetails.rateModal.yourComment")),1),ce(e("textarea",{"onUpdate:modelValue":s[10]||(s[10]=a=>be(w)?w.value=a:null),rows:"4",class:"w-full bg-gray-100/50 border border-gray-200 rounded-xl p-4 text-right focus:outline-none focus:ring-2 focus:ring-[#bf4e26]/20 focus:border-[#bf4e26] transition-all resize-none placeholder-gray-400",placeholder:t.$t("cards.maintenanceDetails.rateModal.placeholder")},null,8,fs),[[ue,o(w)]])]),e("button",{onClick:ee,disabled:o(p)===0||o(k),class:"w-full bg-[#bf4e26] text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-[#a64420] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[o(k)?(l(),n("div",hs)):d("",!0),e("span",null,r(t.$t("cards.maintenanceDetails.rateModal.send")),1)],8,ms)])])):d("",!0)]),_:1}),u(S,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:M(()=>[o(v)?(l(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:s[15]||(s[15]=a=>v.value=!1)},[e("div",{class:"bg-[#808080] w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/10 relative",onClick:s[14]||(s[14]=R(()=>{},["stop"]))},[e("button",{onClick:s[13]||(s[13]=a=>v.value=!1),class:"absolute top-4 right-4 text-white/70 hover:text-white"},[u(o(N),{class:"w-6 h-6"})]),e("h3",ps,r(t.$t("cards.maintenanceDetails.paymentModal.title")),1),e("div",vs,[e("div",ys,[u(o(z),{class:"w-12 h-12 text-[#bf4e26]"})]),e("div",gs,[q(r(o(i).machine?.price||"0.00")+" ",1),s[24]||(s[24]=e("img",{src:L,class:"w-5 h-5 object-contain inline-block",alt:"SAR"},null,-1))])]),e("div",xs,[(l(!0),n(x,null,j(o(F),a=>(l(),n("div",{key:a.key,onClick:g=>$.value=a.slug,class:B(["flex items-center justify-between p-4 rounded-xl cursor-pointer transition-all border",o($)===a.slug?"bg-white/20 border-[#bf4e26] ring-1 ring-[#bf4e26]":"bg-white/5 border-transparent hover:bg-white/10"])},[e("div",ws,[e("div",ks,[o($)===a.slug?(l(),n("div",$s)):d("",!0)]),(l(),me(he(te(a.slug)),{class:"w-5 h-5 text-[#bf4e26]"}))]),e("span",Cs,r(a.slug_text),1)],10,_s))),128))]),e("button",{onClick:oe,disabled:!o($),class:"w-full bg-[#bf4e26] text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-[#a64420] transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},r(t.$t("cards.maintenanceDetails.paymentModal.confirm")),9,Ds)])])):d("",!0)]),_:1}),u(S,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:M(()=>[o(D)?(l(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:s[18]||(s[18]=a=>D.value=!1)},[e("div",{class:"bg-white/90 backdrop-blur-md w-full max-w-lg rounded-3xl p-6 shadow-2xl border border-white/20",onClick:s[17]||(s[17]=R(()=>{},["stop"]))},[e("h3",js,r(t.$t("cancelModal.title")),1),e("div",Ms,[(l(!0),n(x,null,j(o(O),a=>(l(),n("div",{key:a.id,onClick:g=>y.value=a.id,class:B(["flex items-center justify-between p-4 rounded-xl cursor-pointer transition-all border group",o(y)===a.id?"bg-red-50 border-red-200 ring-1 ring-red-200":"bg-gray-50 border-transparent hover:bg-gray-100"])},[e("div",Ps,[o(y)===a.id?(l(),n("div",Fs)):d("",!0)]),e("span",Rs,r(a.name),1)],10,Es))),128))]),e("div",Ss,[e("button",{onClick:ae,disabled:!o(y)||o(C),class:"w-full bg-[#E57373] text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-[#d45d5d] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[o(C)?(l(),n("div",Os)):d("",!0),e("span",null,r(t.$t("cancelModal.confirm")),1)],8,Ts),e("button",{onClick:s[16]||(s[16]=a=>D.value=!1),class:"w-full bg-gray-100 text-gray-600 py-3 rounded-xl font-bold text-lg hover:bg-gray-200 transition-colors"},r(t.$t("cancelModal.cancel")),1)])])])):d("",!0)]),_:1})])}}};export{Ks as default};
